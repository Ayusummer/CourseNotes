# 前言
## 实验环境
- 软件:
  - VisualStudio2019Community


---
# 第1章

---
## 随堂测验1
一. 单选题（共5 题，100.0分）
- 1. (单选题,20.0分)(     )管理主要是对进程进行管理。
  - 处理机 
- 2. (单选题,20.0分)用户可以通过(    )两种方式来使用计算机。
  - 命令方式和系统调用方式
- 3. (单选题,20.0分)从用户的观点看，操作系统是(    )。
  - 用户与计算机之间的接口
- 4. (单选题,20.0分)操作系统是一种(    )。
  - 系统软件
  - 操作系统是计算机系统的一种系统软件，它用于管理计算机的资源和控制程序的执行。
- 5. (单选题,20.0分)操作系统的主要作用是(    )。
  - 为用户提供使用计算机的接口，管理计算机的资源

## 随堂测验-2

1. 采用**微内核**结构时,将OS封城用于实现OS基本功能的内核和提供各种服务的服务器两个部分
2. 操作系统的发展过程是**管理程序，原始操作系统，操作系统**
3. 在目态(用户态)执行的是**命令解释程序**
4. **火箭飞行控制系统**是实时控制系统。
5. 为实现多道程序设计需要有**更大的内存**
6. 特权指令**只能在管态下**执行
7. 实时系统的响应时间是由**控制对象所能接受的时延**确定的。
8. 在分时系统中，当用户数目为100时，为保证响应时间不超过2 s，此时的时间片最大应为**20 ms**
9. 在设计分时操作系统时，首先要考虑的是**交互性和响应时间**
10. 在OS中采用多道程序设计技术，能有效地提高CPU、内存和I/O设备的**利用率**
11. 分时系统的响应时间(及时性)主要是根据**用户所能接受的等待时间**确定的
12. 多个用户在终端设备上以交互方式输入、排错和控制其程序的运行，该操作系统是**分时操作系统**
13. UNIX操作系统是著名的**分时系统** 
14. 在多道批处理系统中，为了充分利用各种资源，系统总是优先选择**计算型和I/O型均衡的**多个作业投入运行。
15. 批处理系统的主要缺点是**无交互性**
16. 操作系统是计算机系统中必不可少的系统软件。(√)
17. 与分时系统相比，实时操作系统对响应时间的紧迫性要求高得多。(√)
18. 多道程序设计是利用了CPU和通道并行工作来提高系统的效率。(×)
19. 在分时系统中，响应时间≈时间片×用户数，因此为改善系统的响应时间，常用的原则是使时间片越小越好。(×)
20. 系统调用是操作系统和用户进程的接口，库函数也是操作系统和用户的接口。(×)
- 库函数只有一部分用到系统调用,但是大部分的库函数没有用到系统调用(不涉及内核的操作就不会进行系统调用)

## 第一次作业

### 什么是操作系统,他在计算机中的作用是什么?
- 操作系统是一个系统软件;
- 操作系统是计算机系统中不可或缺的基础系统软件;
- 其管理和控制计算机中的软硬件资源,是计算机资源的管理者,控制者和执行者,提供了与用户直接交互的接口;

### 为什么对作业进行批处理可以提高系统效率

- 用户把要计算的问题,数据和作业说明书一起交给操作员,操作员将一批算题输入到计算机,然后由操作系统来控制执行;
- 通常,采用这种批量化处理作业技术的操作系统称为批处理操作系统;
- 批处理操作系统又分为单道和多道批处理系统;
- 由于批处理系统的作业之星没有与用户的交互,避免了系统等待时间,提高了系统效率;
- 多道批处理可以将适用不同资源的走也搭配进入系统执行,从而使用不同资源的作业搭配进入系统执行,从而使多个作业分别占用不同资源同时执行,踢桃了资源利用率和系统效率;

### 批处理系统,分时系统和实时系统各有什么特点?各适用于哪些方面?

- 批处理系统是将作业呈批交给计算机系统,用户无需干预,资源利用率高,
  - 适用于大型作业且不需要人工干预的场合;
- 分时系统具有独立性,及时性,交互性和同时性,
  - 适用于多终端用户的场合;
- 实时系统对随机发生的外部事件作出及时的相应并做出处理,适用于较少有人敢于的实时监控系统


---
# 第2章 进程与线程

## 第2次作业
---
### 为什么要引入进程概念？它与程序有何区别？

- 为什么要引入进程的概念:

  - 由于程序是静态的,而程序执行是一个动态过程。 为了使程序在多道程序环境下能并发执行,并对并发执行的程序加以控制和描述,在操作系统中引入了进程概念。
  - 进程与程序的主要区别是进程是动态的,有生命周期;而程序是静态的。
  - 程序的缺点：无法表示系统的动态特性;
    - 如：两个用户同时执行CC编译自己的程序，某时刻程序的执行状态难以刻画（运行、就绪、等待）。
  - 引入进程（程序＋处理对象）:可表示执行动态特性。
- 进程和程序的区别: 
  - 进程是一段程序的一次运行活动：动态概念；有一定“生命期”。 
  - 程序是一组指令的集合：静态概念
  - 程序段运行在两个**不同数据集合**上，就是两个不同的进程； 
  ---
  - 一个程序可以对应多个进程； 
  - 一个进程至少要对应一个程序，或对应多个程序，多个进程也可对应相同的程序。
  - 进程具有并行特征（独立性和异步性）
  - 进程是资源分配的**基本单位**
---
 ###  进程的含义是什么？进程存在的标志是什么？
- 进程的定义（**程序段+数据**）  
  能和其它程序并行执行的程序段在某数据集合上的**一次运行过程**，它是系统资源分配和调度的一个**独立单位**。 
- 进程存在的标志
  - 进程存在的唯一标志是PCB
  - 进程控制块（PCB）[process Control Block]：
    - 描述和标志进程（创建进程时，建立PCB；
    - 完成任务被撤销时，撤销PCB。） 
---
### 现代操作系统一般都提供多任务的环境，为支持进程的状态变迁，系统应至少提供哪些进程控制原语？它们具体完成什么操作。
- 为支持进程的状态变迁，系统应至少提供哪些进程控制原语？
  - 在进程的整个生命周期中会经历多种状态。进程控制的主要职能是对系统中所有进程实施有效地管理它具有创建新进程、撤销已有进程、实现进程的状态转换等功能。
  - 在操作系统内核中有一组程序专门用于完成对进程的控制这些原语至少需要包括:
    - 进程创建原语
      - 创建进程原语总是先为新建进程申请一空白 PCB ,并为之分配惟一的数字标示符,使之获得 PCB 的内部名称;
      - 若该进程所对应的程序不在内存中,则应将它从外存储器调入内存:并将该进程有关信息(如进程外部名、优先级数、程序入口地址和所需资源请单等)填入 PCB 中,然后置该进程为就绪状态,并将它排入就绪队列和进程家族队列中。 
    - 进程撤销原语
      - 以调用者提供的标志符 n 为索引,从 PCB 集合中检索出被撤消进程的 PCB ,获得该进程的内部状态标志。然后找到该进程所在的队列,将它从该队列中消去,并撤消属于该进程的一切“子孙进程”;
      - 若有父进程则从父进程 PCB 中删除指向该进程的指针,并释放撤消进程所占用的全部资源,或者将其归还给其父进程,或者归还给系统。
      - 若被撤消的进程处于执行状态,应立即中断该进程的执行,并设置调度标志为真,以指示该进程被撤消后系统应重新调度。 
    - 进程阻塞原语
      - 开始时,进程正处于执行状态,因此首先应中断 CPU 执行,并保存该进程的 CPU 现场,然后把阻塞状态赋于该进程,并将它插入到具有相同实体的阻塞队列中。  
    - 进程唤醒原语
      - 先把被唤醒进程从阻塞队列中移出,设置该进程当前状态为就绪状态,然后再将该进程插入到就绪队列中。 
---
### 什么是线程？线程与进程有何区别？线程与进程相比，在实现并行性机制方面有何优势？
- 什么是线程:
  - 线程也叫轻量级的进程,它是一个基于进程的运行单位;
  - 它可以不占有资源,一个进程可以有一个线程或者多个线程 ( 至少一个 ) ,这些线程共享此进程的代码、 Data 和部分管理信息,但是每个线程都有它自己的 PC 、 Stack 和其他。 
- 线程与进程的区别:  
  线程与进程的区别主要表现在以下几个方面: 
  - 地址空间和资源不同:
    - 进程间相互独立;
    - 同一进程的各个线程之间却共享它们。 
  - 通信不同:
    - 进程间可以使用 IPC 通信;
    - 线程之间可以直接读写进程数据段来进行通信,但是需要进程同步和互斥手段的辅助,以保证数据的一致性。 
  - 调度和切换不同:
    - 线程上下文切换比进程上下文的切换要快得多。 
- 线程在实现并行性机制方面有何优势:
  - 并行执行涉及上下文切换、数据共享和通信等因素;
  - 由于线程上下文切换开销小,进程内线程可以共享进程中的数据和资源,线程是比进程更小的执行单位,所以在并行性方面,线程比进程更具有优势。

---
## 第2章 随堂测验
一. 单选题（共10 题，100.0分）
- 1. 下列选项中，降低进程优先权级的合理时机是(    )。
  - 进程的时间片用完
  - 错误选项有：
    - 进程从就绪状态转为运行态
    - 进程长期处于就绪队列中
    - 进程刚完成I/O，进入就绪队列
  - 在试题所给出的4个选项中，“进程刚完成I/O，进入就绪队列”和“进程的时间片用完”属于上述“时机”，但是，当进程从就绪状态转为运行态时，如果降低进程优先权级，则可能导致这种正在发生的转换不能实施，这不合理。因此，相对而言，比较合理的时机是进程的时间片用完的时候。
  - 在动态优先级调度方法中，一般采取的策略(也是比较合理的策略)是，进程处于就绪队列中的时间越长，其优先级就应该越高。也就是说，当进程持久处于就绪队列时，应该提高其优先级，而不是降低其优先级。
- 2. 一个进程被唤醒意味着(    )。
  - 进程变为就绪态
  - 进程唤醒：进程从阻塞状态变为就绪状态
- 3. 进程所请求的一次打印输出结束后，将使进程状态从(    )。
  - 阻塞态变为就绪态
  - 进程执行过程中发生输入/输出等待事件，将由执行态转为阻塞态，进入输入/输出等待队列。由输入/输出调度程序根据输入/输出请求完成相应输入/输出工作，待输入输出工作完成后唤醒阻塞队列中进程进入就绪队列。进程切换均是通过中断完成。而且输入输出工作是由操作系统程序完成，因为输入/输出指令是特权指令。
- 4. 在操作系统中，进程的最基本的特征是(    )。
  - 动态性和并发性
  -进程特征：动态性、并发性、独立性、异步性、结构性（基本：动态性、并发性）
- 5. 有两个程序:A程序按顺序使用CPU10秒、设备甲5秒、CPU5秒、设备乙10秒、CPU10秒;B程序按顺序使用设备甲10秒、CPU10秒、设备乙5秒、CPU5秒、设备乙10秒。在顺序环境下,执行上述程序,CPU的利用率约为(    )。
  - CPU占用时间/总时间=50%
10.0分
- 6. 进程和程序的本质区别是(    )。
  - 动态和静态特征
- 7. 下列进程状态转换中，不可能发生的转换是(    )。
  - 阻塞—>执行
  - ![进程状态转换图](https://images.gitee.com/uploads/images/2020/1227/201423_82bb863d_7965824.png "屏幕截图.png")
- 8. 用来指示与处理器有关的系统状态，中断装置在保护现场时一定要保护起来的是(    )。
  - PSW
  - PSW：程序状态字
10.0分
- 9. 操作系统感知进程存在的唯一标志是(    )。
  - PCB
  - PCB：进程控制块，进程存在的唯一标志

10.0分
- 10. 下面关于多道程序设计系统的说法正确的是(    )。
  - 多道程序设计技术使CPU和各类资源的利用率得以提高
  - 错误的是
    - 多道程序设计技术要求各道程序互不相关
    - 多道程序设计技术一般是指在多个通道中设计程序的技术
    - 多道程序设计技术可以提高系统吞吐量，加快程序的运行

---
# 第3章 互斥与同步
## 3.5 死锁
### 10.6随堂练习
银行家算法中，若出现以下资源分配情况，试问：
- （1）系统是否安全？如果安全，请给出一个安全执行序列，如果不安全，说明理由
- （2）如果进程依次有如下资源请求，系统将怎样进行资源分配？请说明理由。
  - P1(1,0,2)
  - P2(3,3,0)
  - P3(0,2,0)
![资源分配情况](../res/img/OperatingSystem/R3.5.1.png)   

#### 解:
- 将系统中各种资源的总和和此刻各进程对资源的需求数目用向量或矩阵表示出来为:  
  - P0(7,4,3)
  - P1(1,2,2)
  - p2(6,0,0)
  - P3(0,1,1)
  - P4(4,3,1)  
- 当前系统资源剩余量为(3,3,2)满足P1或P3的最大需求,P3当前资源占有量比P1多,先满足P3的需求,P3执行结束后剩余资源量为(5,4,3)
- 当前系统资源剩余量满足P1,P4,P4当前资源占有量比P1多,先

---
## 第三章随堂测验1
- 1.当进程等待的时间结束时,将进程状态改为就绪态所使用的原语是?
  - 1
- 2.临界区是指?
  - 访问临界区的一段代码
- 3. 如果一组并发进程是无关的,则他们?
  - 可以包含想用的程序但是没有共享变量
- 4.设有三个进程共享一个资源,若果每次只允许一个进程使用该资源,用PV操作管理时信号量S的可能取值是?
  - 1,0,-1,-2
  - 每次只允许一个进程使用该资源对应1
  - 全部请求分配则一个在使用两个在等待,对应-2
- 5.设与某资源相关联的信号量初值为3,当前值为1,若M表示该资源的可用个数,N表示等待资源的进程数,则M,N分别是?
  - M表示该资源的可用个数为1
    - 与上一题一致
  - N表示等待资源的进程数,表示0
    - 资源有可用个数就不会有等待进程数
- 6.在单个处理器系统中,可以并发但是不可以并行工作的是?
  - 进程与进程
  - > 以下三组均可以并行:  
      > 处理器与设备可以  
      > 处理器与通道可以  
      > 设备与设备可以  
- 7.关于进程与线程的叙述中,正确的是?
  - 同一进程中的各个线程拥有不同的地址空间
    - (×)
    - 同一个进程中的各个线程共享
  - 系统级线程和用户级线程的切换都需要内核的支持
    - 本身处理器的内核并不参与
  - 线程是资源分配的基本单位,进程是调度的基本单位
    - ×
    - 反了
  - 不管系统是否支持线程,进程都是资源分配的基本单位`
    - √
- 8.在支持多线程的系统中,进程P创建的若干个线程不能共享的是?
  - 进程P中某线程的栈指针
- 9.用V操作唤醒一个等待进程时,被唤醒进程的状态变为?
  - 就绪
- 10.有两个程序:
  - A程序按顺序使用CPU10s,甲5s,CPU5s,乙10s,CPU10s;  
  - B程序按顺序使用设备甲10s,CPU10s,设备乙5s,CPU5s,乙10s;  
  
若他们采用非抢占方式并发执行,并不考虑切换等开销,则CPU的利用率约为?
- 90% 
![](../res/img/OperatingSystem/第3章单元测验1选择题10.png)

---
### 判断题
- 1.进程是最小的拥有资源的单位
  - ×
- 2.用户为每个自己的进程创建PCB,并控制进程的执行过程
  - ×
  - PCB由操作系统创建并控制进程的执行过程
- 3.在UNIX系统中,1#进程是所有用户进程的祖先
  - √ 
- 4.原语是具有独立功能的程序段,它在执行中不能被终端
  - √
- 5.在单处理机中,最多只能哟一个进程处于运行状态
  - √
- 6.进程可以删除自己的PCB表
  - PCB的创建和删除都是有操作系统执行的
- 7.多道程序设计是利用了CUU和通道并行工作来提高系统的小喇叭 
  - ×
- 8.进程和程序一一对应
  - ×
- 9.在采用多道程序设计的系统中,系统的程序刀数越多,系统的效率越高
  - ×
  - 反而容易造成堵塞
- 10.临界区指的是多个并发进程共享的存储区域
  - 临界区指的访问临界资源的代码   


## 第三章随堂测验2 
### 选择题
- 1.资源静态分配策略可以防止死锁
- 2.产生系统死锁的原因可能是:多个进程竞争资源出现了循环等待
- 3.按序分配资源破坏了死锁产生条件中的:资源循环等待
- 4.m为同类资源数,n为系统中的并发进程数,当n个进程共享m个互斥资源,每个进程最大需求是w,下列情况系统会死锁的是?  
  A. m=5,n=4,w=2 &nbsp; B. m=5,n=4,w=3  
  C. m=3,n=3,w=1 &nbsp; D. m=2,n=3,w=1
  - B
  - 每个并发进程至少占用1个资源,若是B则5-4=1,无论分给哪个进程都不会到达该进程的最大资源
  - 条件应当是$m - n \geq w-1$ or $w = 1$ 
- 5.系统有某类资源
- 6.邮箱的通信方式是一种?通信方式
  - 间接
- 7.死锁的预防是通过破坏产生死锁的四个必要条件来实现的.下列方法中,?破坏了"部分分配"条件
  - 资源静态分配策略
  - 
  - > 资源有序分配->破坏循环等待面
  - > SPOOLing->设备的虚拟分配
- 8.死锁预防策略的是?
    - 资源有序分配阀
- 9.死锁避免策略的是?
  - 银行家算法
- 10.我们吧一段时间内,只允许一个进程访问的资源成为临街资源,一次你下面结论正确的是?
  - 对临街资源,应采取互斥访问方式来实现共享
  - > 只要是程序并发执行,这些并发执行的程序便可以对临界资源实现共享(×)
  - > 为临界资源配上相应的设备控制块后,来实现共享(×)

---
### 判断题
- 1.死锁的处置方式有预防,避免,检测和接触.剥夺资源属于死锁接触,破坏循环等待属于死锁避免;
  - ×
  - 后半句错了,破坏循环等待属于

- 2. 进程同步和进程互斥关于直接和渐渐控制
-  3.PV操作不可中断
   -  √
   -  都是源于操作,不可中断
- 4.银行家算法主要用于解决进程使用设备的死锁问题
  - ×
- 5.产生思索的根本原因是供使用的资源数少于需求数
  - √
  - 太根本了,资源够的话就不用考虑共享了,就不会产生循环等待就不会产生死锁
- 6.进程的互斥和同步总是因为相互制约而同时引起
  - 错
  - 不会同时引起
- 7.利用银行家算法有效预防死锁,所以在操作系统中广为使用
  - ×
- 8.产生死锁的四个必要条件在死锁发生时会同时发生
  - √
- 9.用PV操作可以解决互斥与同步问题
  - √
  - 确实**可以**
- 对信号量S的操作只能通过源于操作进行,对应每一个信号设置了一个等待队列
  - √

---
## 互斥与同步练习
- 1.设有N个进程，共享一个资源R，但每个时刻只允许一个进程使用R。算法如下：
  - 设置一个整型数组flag[N]，
    - 其每个元素对应表示一个进程对R的使用状态，
      - 若为0表示该进程不在使用R，
      - 为1表示该进程要求或正在使用R，
      - 所有元素的初值均为0。
  ```C++
  process Pi{
    …
    flag[i] = 1;
    for (j=0; j<i; j++)
      do while (flag[i]) ;
    for (j=i+1; j<N; j++)
      do while (flag[i]) ;
    use resource R ;
    flag[i] = 0;
    …
  }
  ```
  - 试问该算法能否实现上述功能？为什么？若不能请用P、V操作改写上述算法。
    - 该算法无法实现上述功能:
      - 假设有两个进程执行了flag[i] = 1, 再执行两个for循环等待其他进程的执行完成, 这就形成了循环等待, 永远都不会有进程能申请到资源;
    - 用P, V操作改写上述算法
      ```C++
      semaphore mutex;  // 定义互斥变量
      mutex.value = 1;  /* 变量初始值为1表示该互斥资源总数为1且当前可申请数目为1 */
      Process Pi{
        ...
        P(&mutex);      // 申请一份资源
        use resource R; // 使用资源执行进程
        V(&mutex);      // 释放一份资源
        ...
      }

      ```  

---
- 2.有三个进程R, M, P，
  - R负责从输入设备读入信息并传送给M,
  -  M将信息加工并传送给P，
  -  P将打印输出，
  - 写出下列条件下的并发进程程序描述。
    - (1) 一个缓冲区，其容量为K；
      ```C++
      semaphore mR, mM, mP; // 设置三个进程内部的互斥信号量(mutex)
      int sR, sM, sP;       /* 进程执行时从缓冲区存取数据的数组下标(subscript)[从数组中存取数据没有数组下标怎么存取嘛] */
      TypeInfo buffer[K];   // 定义一个容量为K的缓冲区
                            // TypeInfo表示存取数据的类型
      sR = sM = sP = 0;     // 初始化存取数据数组下标为0
      mR.value = K;         /* 输入信息进程互斥变量资源初值为K,表示缓冲区中的最多K个资源都可以使用 */
      mM.value = mP.value = 0;  /* 传递和输出的互斥信号量的初值为0,表示初始并无资源写入自然没有资源可以参与传递与输出 */
      // 并行进程执行,重复执行三个进程
      cobegin 
        repeat R;
        repeat M;
        repeat P;
      coend
      
      
      // 并行进程定义

      // 读入信息进程R的定义
      Process R{ 
        ...                 // 从输入设备读入信息
        P(&mR);             // 申请一份资源
        buffer[sR] = info;  // 在缓冲区选个位置存入数据
        sR = (sR + 1) % K;  // 设置下一个存入数据的数组下标为循环的当前下标+1
        V(&mM);             /* 进程执行完毕"释放"一份M进程的资源"[其实就是1个R进程执行完毕后M进程的资源数增加了1] */
                            /* 注意这里不能释放R的资源:因为R申请的资源存在缓冲区里呢,得等打印进程执行完才能释放 */
      }

      // 传送进程M的定义
      Process M{
        P(&mM);             // 申请一份资源
        info = buffer[sM];  // 在缓冲区选个位置读取数据 
        ...                 // 对读取到的数据执行相关操作
        buffer[sM] = info;  // 将处理完的数据存回缓冲区
        sM = (sM + 1) % K;  /* 设置下一个读取数据的数组下标为循环的当前下标+1 */
        V(&mP);             /* 进程执行完毕后"释放"一份P进程的资源[原理与注意点与R进程的相应操作一致] */
      }

      // 打印进程P的定义
      Process P{
        P(&mP);             // 申请一份资源
        info = buffer[sP];  // 从缓冲区选个位置读取数据
        ...                 // 执行数据的输出操作
        sP = (sP + 1) % K;  /* 设置下一个读取数据的数组下标为循环的当前下标+1 */  
        V(&mR);             /* "释放"一份R的资源[其实就是数据打印完成后缓冲区的一个数据失效,代表着缓冲区多个位置待存入数据] */
      }
      ```
    - (2) 两个缓冲区，每个缓冲区容量均为K。
      - 进程设计方面大体没变,需要注意的是M进程有两个操作
        - 从缓冲区1读取数据
        - 处理读取到的数据并存入缓冲区2  
         因此这两个操作均要设置互斥信号量
      - 除此之外R进程资源的释放通过M进程从缓冲区1读取完数据后释放
      - P进程执行完毕后释放的应当是M进程的资源2而非之前的R进程的资源
      ```C++
      /* 设置三个进程内部的互斥信号量(mutex) */
      semaphore mR, mM1, mM2, mP; 
      /* 进程执行时从缓冲区存取数据的数组下标(subscript)[从数组中存取数据没有数组下标怎么存取嘛] */
      int sR, sM1, sM2, sP; 
      /* 定义两个容量为K的缓冲区[TypeInfo表示存取数据的类型] */
      TypeInfo buffer1[K], buffer2[K]; 
      sR = sM1 = sM2 = sP = 0;   // 初始化存取数据数组下标为0
      /* 输入信息进程互斥变量资源初值为K,表示缓冲区中的最多K个资源都可以使用 */
      mR.value = mM2.value = K;  
      /* 读取信息进程的互斥信号量的初值为0,表示初始并无资源写入自然没有资源可以参与传递与输出 */       
      mM1.value = mP.value = 0;  
      // 并行进程执行,重复执行三个进程
      cobegin 
        repeat R;
        repeat M;
        repeat P;
      coend
      
      
      // 并行进程定义

      // 读入信息进程R的定义
      Process R{ 
        ...                 // 从输入设备读入信息
        P(&mR);             // 申请一份资源
        buffer[sR] = info;  // 在缓冲区选个位置存入数据
        sR = (sR + 1) % K;  // 设置下一个存入数据的数组下标为循环的当前下标+1
         /* 进程执行完毕"释放"一份M进程的资源"[其实就是1个R进程执行完毕后M进程的读取数据的资源数增加了1] 
         [注意这里不能释放R的资源:因为R申请的资源存在缓冲区里呢,得等打印进程执行完才能释放]*/
        V(&mM1);            

      // 传送进程M的定义
      Process M{
        P(&mM1);            // 申请一份读数据资源
        info = buffer[sM1]; // 在缓冲区1选个位置读取数据 
        /* 设置下一个读取数据的数组下标为循环的当前下标+1 */
        sM1 = (sM1 + 1) % K;
        /* 进程执行完毕后"释放"一份R进程的资源 */
        V(&mR);             
        ...                 // 对读取到的数据执行相关操作
        P(&mM2);            // 申请一份存数据资源
        buffer[sM2] = info; // 将处理完的数据存到缓冲区2
        sM2 = (sM2 + 1) % K;
        V(&mP);
      }

      // 打印进程P的定义
      Process P{
        P(&mP);             // 申请一份资源
        info = buffer[sP];  // 从缓冲区选个位置读取数据
        ...                 // 执行数据的输出操作
        sP = (sP + 1) % K;  /* 设置下一个读取数据的数组下标为循环的当前下标+1 */  
        V(&mM2);            // "释放"一份M存数据的资源           
      ```

---
- 3.假定一个阅览室最多可以容纳100人阅读,读者进入和离开阅览室时,都必须在阅览室门口的一个登记表上注册或注销。假定每次只允许一个人注册或注销,设阅览室内有100个座位。
  - （1）试问：应编制几个程序和设置几个进程？程序和进程的对应关系如何？
    - 应编制一个读者程序。
    - 应设置100个读者进程。
    - 程序和进程的对应关系为一对多($1:N$);具体来讲是$1:100$，
      - 1个读者程序为100个读者进程共享。
  - （2）试用P、V操作编写读者进程的同步算法。
    ```C++
    semaphore inM, outM;  // 设置入出馆互斥量
    PID pool[100];        // 设置1个容量100的进程识别码槽
    int i;
    // 假设初始馆内人数为空则出馆互斥量资源数为0,相应的入馆量资源数为100
    inM.value = 100;  outM.value = 0;
    // 初始化识别号,
    for (i=0; i<100; i++) pool[i]=-1;
    // 定义读者进程
    Process reader(PID procID ){ 
      int i;
      P(&inM);    // 申请入馆资源
      P(&outM);   // 申请出馆资源(毕竟同时只能有一人出/入馆)
      i=0;
      // 寻找进程识别码槽中未被占用的部分
      while (pool[i] != -1) i++ ; 
      pool [i] = procID;
      V(&outM);   // 释放出馆资源
      ...         // 读书(占用资源中)
      P(&outM);   // 申请出馆资源
      pool[i]= -1;// 重置当前位置进程识别码
      V(&outM);   // 释放出馆资源
      V(&inM);    // 释放入馆资源
    }
    ``` 

---
- 4.写一个用信号量解决哲学家就餐问题不产生死锁的算法。
  ```C++
  semaphore chopstick[5]={1，1，1，1，1}；
  ／*哲学家进程*／
  void philosopher(int i){
    while (true){
      P(chopstick[i])；
      P(chopstick[(i+1)％5])；
      …;
      eat； ／*进餐*／ 
      …：
      V(chopstick[i])；
      V(chopstick[(i+1)％5])； 
      …：
      think； ／*思考*／ 
      …； 
    } 
  }
  ```

---
- 5.系统有输入机和打印机各一台，有两进程都要使用它们，采用P、V操作实现请求使用和归还释放后，还会产生死锁吗？若不会，说明理由；若会，你认为应怎样来防止死锁。
  - 会产生死锁
    - 假设两个进程相互使用了两个不同的设备,那么接下来他们使用另一个设备的时候就会因为相互申请不到对方正在占用的资源而产生死锁
  - 防止死锁的方法:
    两个进程定义的时候不独立申请设备,而是进程刚开始就一次性申请两个设备的资源,当只有一个互斥量的时候就不会产生死锁了

---
- 6.若系统有同类资源m个，被n个进程共享
  - 问：当m>n和m≤n时，每个进程最多可以请求多少个这类资源，使系统一定不会发生死锁？
    - $m>n$时
      - 每个进程最多申请$\frac{m-1}{n}+1$个
    - $m≤n$时
      - $m=n$时
        - 每个进程**只能**申请一个
      - $m<n$时
        - 每个进程**最多**申请一个

---
- 7.设系统有某类资源共12个，用银行家算法判断下列每个状态是否安全。如果是安全的，说明所有进程是如何能运行完毕的。如果是不安全的，说明为什么可能产生死锁。
 ![](https://codimd.s3.shivering-isles.com/demo/uploads/upload_03ee4e44d9204d34c5dd488d9c7604a7.png)
  - 状态A
    - 系统剩余资源$=12-2-4-5=1$
    - 先完成进程3回收6个资源,如此一来这剩余的6个资源分配给其余任何一个进程都可执行完毕，因此系统是安全的;
  - 状态B
    - 系统剩余资源$=12-4-2-5=1$，剩余的一个资源不满足人一个进程的最大资源需求,系统不安全;

---
- 8.某银行提供1个服务窗口和10个供顾客等待的座位。顾客到达银行时，若有空座位，则到取号机上领取一个号，等待叫号。取号机每次仅允许一位顾客使用。当营业员空闲时，通过叫号选取一位顾客，并为其服务。请用信号量和P、V操作描述顾客和营业员的互斥与同步。要求写出完整的过程，说明信号量的含义并赋初值。
```C++
semaphore  mutex, empty, full,service；                                 
mutex.value=1; 
empty.value=10;
full.value=0; 
service.value=0; 
cobegin{
   process customer{   
      P(&empty);     
      P(&mutex);  
      ...           // 获取号码;
      V(&mutex);    
      V(&full); 
      P(&service); 
      ...
  }   
  process assistant{
    while(true){
      P(&full); 
      V(&empty); 
      V(&service);
      ...
    }
  }
}coend

```

---




---
# 第4章 处理器调度
## 第4章随堂测验
- 10.29
### 一,选择题
- 1.用来指示与处理器有关的系统状态，中断装置在保护现场时一定要保护起来的是? 
  - `PSW`(程序状态字 `Program Status Word`)
    - 知道中断前的程序状态字才知道中断在哪里了,那么唤醒该程序后执行的时候可以从中断楚继续执行
  - 其他选项
    - `PCB`(进程控制块 `Process Control Block`)  
    - SPOOL(此处无意义,在sqlplus中用来保存或打印查询结果。)  
    - CCW
- 2、降低进程优先权级的合理时机是?。
  - 进程的时间片用完  
---
- 3、在三种基本类型的操作系统中，都设置了?。
  - 进程调度
  - 其他选项
    - `作业调度`:主要是批处理器  
    - `优先级调度`:对应实时系统
    - `时间片轮转法调度`:对应分时系统
---

- 4、在批处理系统中除了进程调度外，还应设置?。
  - 作业调度  
---
- 5、在分时系统中常采用的进程调度算法是?。
  - 时间片轮转法  
---
- 6、在动态优先权时，随着进程执行时间的增加，其优先权降低  
---
- 7、单处理机系统中，可并行的是(      )。    
  - II 处理机与设备     
  - III 处理机与通道     
  - IV 设备与设备
  - > 进程与进程不可在单处理机系统中并行 
---
- 8、降低进程优先权级的合理时机是(　  　)。
  - 进程的时间片用完   
---
- 9、一个进程被唤醒意味着?。
  - 进程变为就绪态   
---
- 10、综合考虑进程等待时间和执行时间的是?
  - `高响应比优先调度算法`:（`Highest Response Ratio Next`）是一种对`CPU`中央控制器响应比的分配的一种算法。`HRRN`是介于`FCFS`（先来先服务算法）与`SJF`（短作业优先算法）之间的折中算法，既考虑作业等待时间又考虑作业运行时间，既照顾短作业又不使长作业等待时间过长，改进了调度性能。
---
### 二,判断题（共10题，50分）
- 1、在一单处理机中,最多只能允许有一个进程处于运行状态(`✔`)
- 2、UNIX的进程调度采用的是多级反馈轮转调度算法(`✔`)
- 3、处理器亲和性能够有效地提高高速缓存的命中率，但却不能缓解负载不均衡的问题`✔`
- 4、程序的并发执行是指同一时刻有两个以上的程序，它们的指令都在同一处理器上执行。`✖`
  - `并发`是同一时间，在单处理器上运行，宏观并行，微观串行。
  - `并行`是同一时刻，在多个处理器上运行
- 5、多个`CPU`的角色功能平等，没有主从之分，这种多`CPU`结构称为对称多处理器结构(`Symmetric Multi-Processor Architecture`)，或简称为`SMP`结构。`✔`
- 6、多处理器经典调度算法有负载共享调度算法、组调度算法和专用处理器分配调度算法`✔`
- 7、在计算机结构中，多处理器结构和多核结构是同一个概念的不同说法，它们的实现原理是相同的`✖`
  - `多处理器系统`中包含多个单核处理器
  - `多核处理器系统`指系统中只有一个多核心的处理器
- 8、`UNIX`系统中`0#`进程负责进程调度与交换。`✔`
- 9、实时系统和其它系统的主要区别在于，其处理和控制的正确性不仅仅取决于计算的逻辑结果，而且取决于计算和处理结果产生的时间。`✔`
- 10、一个进程必须经过长程调度、中程调度和短程调度才能占用处理器。`✖` 
  - 在进程执行过程中就可以占用处理器,并不是一定要把这些调度走完

----
## 处理器调度作业
### 1.简答题
- 1.在时间片轮转法中，应如何确定时间片的大小？
  - 时间片以略大于一次典型的交互所需要的时间为宜，这样可使大多数进程在一个时间片内完成。 
  - 具体应考虑：
    - 系统对相应时间的要求
    - 就绪队列中进程的数目
    - 系统的处理能力
---
- 2.多处理器调度应该考虑哪些问题？
  - 如何为进程分配处理器？
  - 是否在单个处理器上支持多道程序设计？
  - 如何指派进程？
- 这三个问题的处理方法通常取决于应用程序的粒度等级和可用处理器的数目。
---
  - 3.何谓静态和动态优先级？确定静态优先级的依据是什么？
    - 静态优先级：
      - 是在进程创建时即被确定的，在以后整个执行期间不再改变
      - 确定进程优先级的主要依据如下：
        - `进程类型`；可分为系统进程和用户进程。
          - 通常系统进程的优先级要高于用户进程的优先级;特别是在某些系统中，某些系统进程必须赋予它一种特权，只要它需要处理器，应尽快得到满足。
        - `进程对资源的需求`;如估计执行时间、内存需要量、I/O设备的数量等；
        - `用户要求的优先级`;根据用户作业的优先级，确定该作业所对应的进程优先级。
      - 动态优先级：
        - 是指在进程的执行期间，按某种原则不断修改进程的优先级，优先级一般随进程的等待时间，占用CPU的时间而变化
        - 进程优先级一般可根据以下原则确定：
          - 进程占用CPU时间的长短
          - 进程等待处理器时间的长短
---
- 4.多级反馈队列调度对哪种类型的进程有利，是受处理器限制的进程还是受`I/O`限制的进程？请简要说明原因。
  - 多级反馈队列调度对受`I/O`限制的进程有利。
    - 因为如果一个进程占用过多处理器时间,它将会被移到一个低优先级的队列中。这会使受`I/O`限制的进程留在优先级高的队列中。



---
# 第5章 存储器管理
## 第5章随堂测验-1
### 一.单选题
- 1.把逻辑地址转变为内存的物理地址的过程称作`重定位`
- 2.静态分页存储管理方案的主要特点是`要求将作业装入到内存的连续区域`
---
- 3.分区分配内存管理方式的主要保护措施是`界地址保护`
  - 分区分配存储管理方式的保护措施是设置界地址寄存器。
  - 每个进程都有自己独立的进程空间，如果一个进程在运行时所产生的地址在其地址空间之外，则发生地址越界。
  - 当程序要访问某个内存单元时，由硬件检查是否允许，如果允许则执行，否则产生地址越界中断，由操作系统进行相应处理。
---
- 4.存储管理的目的是`方便用户和提高内存利用率`
- 5.通常所说的“存储保护”的基本含义是`防止程序间相互越界访问`
---
- 6.不适用于多道程序设计系统的是`单用户连续存储管理`
  - 适用的是:
    -  固定分区存储管理
    -  可变分区存储管理
    -  页式存储管理
---
- 7.在可变式分区分配方案中，某一作业完成后，系统收回其主存空间，并与相邻空闲区合并，为此需修改空闲区表，造成空闲区数减1的情况是`有上邻空闲区，也有下邻空闲区`
  - 系统为管理主存，将不相邻空闲区分别登记，要使空闲区个数减少，唯一的方法是合并，而只有地址相邻的空闲区才可合并。
    - 无上邻也无下邻，只好将回收区域单独登记，会导致空闲区数增1。
    - 如果只有一个相邻空闲区，则合并后空闲区数不改变。
    - 当与上邻空闲区和下邻空闲区合并，让原来的两个空闲区合并成一个，数量才会减1
---
- 8.动态分区在`装入作业`时确定每个分区的大小。
- 9.假定空闲区表自上至下为$16KB、14KB、10KB和30KB$，某作业要求分配$13KB$的主存空间，若此时分割的是30KB空闲区，则采用的主存分配算法是`最坏适应分配算法`
  - `最坏适应法`：把一个作业分配到主存中最大的空闲区中
---
- 10.在分区存储管理方式下，导致碎片的原因是`作业连续存储`
  - 作业连续存储就势必会导致当有一部空闲空间但是容不下整个作业时该作业就无法存储在该空闲空间,这样该部分空闲空间就浪费了,就成了`碎片`

---
### 二. 判断题（共10 题，50.0分）
- 1.动态重定位是在进程执行过程中集中一次完成的。`×`
  - 执行到相应指令时进行重定位
- 2.分页式存储管理中页面的大小和主存页框的大小是相等的。
- 3.覆盖和交换是从逻辑上扩充主存的两种方法
  - `覆盖`主要是同一进程或作业之内进行
  - `交换`主要是在在进程或作业之间进行。
- 4.分页式存储管理中，页的大小是相等的
- 5.页式管理不易于实现不同进程间的程序共享。
  - 页式管理对共享程序必须规定一个统一的页号。如：goto 地址，**无法随作业不同而变化**
- 6.采用动态重定位技术的系统，目标程序可以不经任何改动而装入物理内存。
  - `动态重定位`:在执行每条指令时，将程序中的逻辑地址变换为物理地址
  - 静态重定位是在程序执行前由装配程序一次性完成，而动态重定位是程序执行中由硬件地址转换机构完成
- 7.采用固定分区存储管理方式时，内存分区的大小由用户进程决定。`×`
  - 系统启动后系统分区的个数及大小就已经确定了
- 8.动态重定位使得作业（进程）在内存中可以移动。
  - 采用动态重定位方式装入的作业，在执行中允许`操作系统有条件的`将其移动。
  - 采用动态重定位时，由于装入主存的作业仍保持原来的逻辑地址，所以，必要时可改变作业在主存中的存放区域。作业在主存中被移动位置后，只要把新区域的起始地址代替原来的在基址寄存器中的值，这样，在作业执行时，硬件的地址转换机制将按新区域的起始地址与逻辑地址相加，转换成新区域中的绝对地址，使作业仍可正确执行。
---
- 9.在支持虚拟地址空间的操作系统环境下，能运行比该主存容量还大的程序。
- 10.页式存储管理实现数据共享和程序共享时，共享页的页号一定要相同。`×`
  - 程序页号要求相同,但是页面页号不一定相同


----
## 第5章作业
- 10道简答题,每题10分

---
- 1.实现地址重定位的方法有哪两种？请比较两者的差别。
  - 静态地址重定位
    - `优点`:装配程序一次完成
    - `缺点`:
      - 用户程序必须分配一个连续的存储空间。
      - 难以实现程序和数据的共享。
  - 动态地址重定位
    - 优点
      - 有利于提高主存的利用率和存储空间使用的灵活性。
      - 有利于程序段的共享实现
      - 为实现虚拟存储管理提供了基础
    - 缺点
      - 实现存储器管理的软件比较复杂。
      - 需要附加的硬件支持。

---
- 2.简述什么是覆盖技术和交换技术？它们之间有什么区别？
  - `覆盖技术`:把程序划分为若干个功能相互独立的程序段,让那些不会同时被CPU执行的程序段共享同一个主存区。
    - 通常，这些程序段被保存在外存中,当CPU要求某一程序段执行时，才将该程序段装入主存中覆盖以前的某一程序段。
    - 对于用户看来，主存好像扩大了，这便是覆盖技术。
    > 注:覆盖规则要由程序设计者给出(这也是其最大的不足)
  - 交换技术
    - 交换技术指将系统暂时不用的程序或数据部分或全部从主存中调出，以腾出更大的存储空间，
    - 同时将系统要求使用的程序和数据调入主存中，并将控制权转交给它，让其在系统上运行
  - 交换技术与覆盖技术的区别：
    - 对象的区别：
      - 交换不要求给出覆盖结构，主要是在进程或作业之间进行，'
      - 而覆盖则主要是在同一个进程或作业之间进行。
    - 作用的区别：
      - 交换可以在较小的存储空间中运行较多的作业或进程
      - 覆盖可以在较小的存储空间中运行比其容量大的作业或进程。

---
- 3.在固定分区管理中，当有1K、9K、33K和121K四个进程要求进入系统时，试分析主存空间的分配情况（主存初始状态如图5-33所示），并说明主存的浪费有多大？  
  ![](../res/img/OperatingSystem/11.28-5-3主存分配情况.png)
  - 固定分区是指系统在初始化时，将主存空间划分为若干个固定大小的区域。
    - 用户程序在执行过程中，不允许改变划分区域的大小，
      - 只能够根据各自的要求，由系统分配一个存储区域。
  - 本题4个进程分别分区1,2,3,4分区
    - 造成的主存的浪费为
      - $((40-20-1)+(100-40-9)+(200-100-33)+(600-200-121)) \\ = 19+51+67+279 \\ = 416 KB$

---
- 4.一道程序被移动或调出时，有限制条件吗？为什么？
  - 有限制条件
    - 若一道修改数据的程序正在运行且未完成全部的数据修改,此时对其进行移动或调出就会导致错误数据的出现
      - 因此一道程序被移动或调出时是要有限制条件的
    - 例如，当一道程序正在以`DMA`方式实现内存与外设进行数据交换时，如果此时移动就会产生数据传输错误，类似这种情况是不能移动的，因此移动是有限制条件的。
---
- 5.何谓页式存储器的内零头？它与页面大小有什么关系？
  - 由于用户作业占据的主存空间不可能刚好等于页面的大小，所以，在已分配的分区中，通常都有一部分未被进程占用而浪费的主存空间，这一部分空间称作为存储器的“碎片”或“内零头”。
  - 一般来讲，页面的大小越大，系统所产生的最大内零头的大小越大，反之越小。
---
- 6.为什么在页式存储器中实现程序共享时，必须对共享程序给出相同的页号？
  - 实现程序共享时，由于页式存储结构要求逻辑地址空间是连续的，共享程序若含有转移指令，这些转移指令的转移地址是确定的，所以在程序运行前共享程序的页号必须是确定的。
  - 例如：假定有一个共享程序`EDIT`，其中含有转移指令，转移指令中的转移地址必须指出页号和偏移，如果是转向本页，则页号与本页页号相同。现若有两个作业共享这个`EDIT`程序，假定一个作业定义它的页号为$3$，另一个作业定义它的页号为$5$，而在主存中只有一个`EDIT`程序，它要为两个作业以同样的方式服务，这个`EDIT`程序一定是可再人的（纯代码的），于是转移指令中的页号是不能按作业的要求随机地改成$3$或$5$。所以，对共享程序必须规定一个统一的页号。


---
- 7.如果一个作业在执行过程中，按下列的页号依次访问主存：$1，2，3，4，2，1，5，6，2，1，2，3，7，6，3，2，1，2，3，6$。作业固定占用四个主存页框（块），试问分别采用`FIFO`、`LRU`、`Clock`和`OPT`算法时，各产生多少次缺页中断？并计算相应的缺页中断率，同时写出在这四种调度算法下产生缺页中断时淘汰的页面号和在主存的页面号。
![](../res/img/OperatingSystem/11.28-5-7.png)
![](../res/img/OperatingSystem/HM5-T7.png)

---
- 8.段式存储管理有什么优缺点？它与页式存储管理的主要区别是什么？
  - 段式存储管理优点
    - 严格按程序的**逻辑结构**分配连续存储空间，
      - 方便程序和数据的共享与保护，
      - 同时也便于程序及数据段的扩充和动态连接。
  - 段式存储管理缺点
    - 一个段的长度不能大于实际的主存容量
    - 有碎片问题,而且为了解决碎片问题，提高主存的利用率，必须采用移动技术
        - 移动主存信息需要较大的系统开销
  - 段式存储管理与页式存储管理的主要区别
    - 分段是信息的逻辑单位，是用户可见的，段的大小是用户程序决定。
    - 分页是信息的物理单位，分页对用户来说是不可见的，页的大小是事先固定的
    - 分段管理的优点是分页管理的不足；而分页管理可克服分段管理的不足，可有效解决碎片问题，减少移动开销。

---
- 叙述段页式虚拟存储管理的优缺点。
  - `优点`：兼有段式虚拟存储和页式虚拟存储两者的优点，即既保持了逻辑上完整性，易于进程间的程序共享和数据共享，有效实现动态链接与装配，动态扩展内存；又解决碎片问题,打破一个段必须在连续主存的限制，避免了移动开销
  - `缺点`：需要更多的硬件支持和中断处理，增加了系统的成本和复杂性 。
---
- 10.设某计算机的逻辑地址空间和物理地址空间均为64KB，**按字节编址**。
  - 若某进程最多需要**6页**数据存储空间
    - **页的大小为4KB**。
  - 操作系统采用**固定分配局部置换**策略为此进程分配**4个页框**，
    - 如下表在10:23时已经有4页进入内存
      - 下表的装入时间和访问时间为一天内24小时时间，
        - 10:00为10点0分。
      - 访问位
        - 为0表示未被访问
        - 为1表示已被访问，
      - 修改位
        - 为0表示未被修改
        - 为1表示已被修改。
      - 表中的访问时间均为对应的页最近一次被访问时间。

![](../res/img/OperatingSystem/11.28-5-10-1.png)
- 当该进程执行到时刻`10:55`时，要访问逻辑地址为`5ABCH`的数据，请问答下列问题： 
  - 该逻辑地址对应的页号是多少？要求给出计算过程。
  - $4KB = 2 ^ {12} B$
    - 因此页内位移占虚地址的低12位,页号占其余高位
    - 因此$5ABCH的高4位为页号,为5$
  - 若采用先进先出(`FIFO`)置换算法，该逻辑地址对应的物理地址是多少？要求给出计算过程。
    - 若采用`FIFO`算法,则因为7号页框最先被置入也应当被最先置出,因此,该逻辑地址对应的物理地址是$7ABCH$
  - 若采用最近最少用(LRU)置换算法，该逻辑地址对应的物理地址是多少？要求给出计算过程。
    - 若采用最近最少用(LRU)置换算法，则因为2号页框最近一次被访问的时间是最早的,因此2号页框被置出,该逻辑地址对应的物理地址是$2ABCH$
  - 若采用时钟(CLOCK)置换算法，该逻辑地址对应的物理地址是多少？要求给出计算过程。(设搜索下一页的指针沿顺时针方向移动，且当前指向2号页框，示意图如下。)    
  ![](../res/img/OperatingSystem/11.28-5-10-4.png) 
- 第1轮找访问位修改为都为0的
  - 没找到
- 再找访问位为0修改位为1的
  - 由于访问位都是1,所以这一轮过后所有的访问位都置成了0
- 再找访问位修改为都为0的
  - 1号页所在4号页框被置换
- 所以对应的物理地址为$4ABCH$


---
## 第5章随堂测验-2
一. 单选题（共10 题，50.0分）
1. 实现虚拟存储器的目的是`扩充主存容量`
2. 在请求页式存储管理中，若所需页面不在内存中，则会引起`缺页中断`
3. 段页式存储管理吸取了页式管理和段式管理的长处，其实现原理结合了页式和段式管理的基本思想，即`用分段方法来分配和管理用户地址空间，用分页方法来管理物理存储空间`
4. 在缺页处理过程中，操作系统执行的操作可能是`修改页表,磁盘I/O,分配页框`
5. 在分页式存储管理中，采用快表的目的是`减少访问内存次数，提高地址转换速度`
6. 在段页式管理中，进程的虚拟地址由3部分组成：段号S，页号P，页内地址D。对程序员来说可见的是`S和段内相对地址`
7. 系统发生抖动现象的**直接原因**是`内存容量不足`
8. 请求分页存储管理中，若把页面尺寸增加一倍，在程序顺序执行时，则一般缺页中断次数会`减少`
   - 对于顺序执行程序，缺页中断的次数等于其访问的页帧数。由于页面尺寸增大，存放程序需要的页帧数就会减少，缺页中断的次数也会减少。
9.  位示图方法可用于`页框的管理`
10. 若一个系统内存有1GB，处理器是32位地址，则它的虚拟地址空间为`4G`=$2^{32}$字节。 
---
### 二. 判断题（共10 题，50.0分）
1. 在引入快表的二级页表结构中，一次存取数据最多需要三次访问主存。
   - 访问快表,访问一二级页表 
2. 在虚拟存储方式下，程序员编制程序时不必考虑主存的容量，但系统的吞吐量在很大程度上依赖于主存储器的容量。
3. 采用快表后分页系统访问主存时既要访问快表，又要访问页表，因此与没有快表的分页系统相比，降低了对主存的存取速度。`✖`
   - 快表保存最近的访问的一些查表信息
4. 在请求分页存储管理的页表中，其访问位的作用是为了页面置换。
5. 虚存容量的扩大是以牺牲`CPU`工作时间以及内、外存交换时间为代价的。
6. 页式存储管理中，一个作业可以占用不连续的内存空间；而段式存储管理，一个作业则是占用连续的内存空间。`✖`
   - 段式存储也不连续,为么个作业的每一段分配一个连续的贮存空间,但是各段之间可以不连续 
7. 缺页中断率只和主存容量有关，主存容量大缺页中断次数少，反之，缺页中断次数多。`✖`
   - 使用不同的页面置换策略可以影响缺页中断率
8. 虚拟存储器的容量不是无限的，它不能大于主存容量加辅存容量的总和。
9. 段页式管理实现了段式、页式两种存储方式的优势互补。
10. 页式的地址是一维的，段式的地址是二维的。

---
# 第6章 文件管理

---
## 章节作业
- Name one advantage of hard links over symbolic links and one  advantage of symbolic links over hard links.
  - `基于索引节点的共享`：对要共享的文件，引入一个索引结点，将文件中诸如文件的物理地址及其文件属性等信息，不放在文件目录表中，而是放在索引结点中，在文件目录中只设置文件名及其指向相应索引结点的指针，再在索引结点中引入一个链接计数器，用于表示链接到索引结点的用户数量，即共享文件的用户数量。访问效率高，但不能实现网络共享。
  - `符号链接`：在需共享的用户目录中创建一个`link`类型的文件，该文件中存放共享文件的路径名。可以实现网络环境的文件共享，但访问效率低。

---
- What would happen if the bitmap or free list containing the information about free disk blocks was completely lost due to a crash? Is there any way to recover from this disaster, or is it bye-bye disk? Discuss your answer for the FAT-16 file system.
  - 问题并不严重，只要扫描文件已经占有的磁盘块，未被占用的就是空闲盘块。对于UNIX系统，只要扫描所有的`i-node`即可以恢复。

---
- A UNIX file system has 8-KB blocks and 4-byte disk addresses. 
- Assume that there are 10 direct block pointers, and a singly, doubly, and triply indirect pointer in each i-node, then

---
- (1) What is the maximum file size supported by this system?
  - $8K/4=2K$
  - $文件的最大尺寸 \\ = 10*8K + 2K*8K + 2K*2K*8K + 2K*2K*2K*8K \\ = 80K + 16M + 32G + 64T \\ = 64T32G16M80K$

----
- (2) Assuming no information other than that the file i-node is already in main memory, how many disk accesses are required to access the byte in position 13M?
  - 2次访问
    - 数据所在盘快
    - 一级间接块$16M$


---
- (3) Assuming no information other than that the file i-node is already in main memory, how many disk accesses are required to access the byte in position 5T?
  - 4次访问
    - 数据所在盘快
    - 一级间接块$16M$
    - 二级间接块$32G$
    - 三级间接块$64T$


----
- How many disk operations are needed to fetch the i-node for a file with the path name $/usr/ast/courses/os/handout.t$? Assume that the i-node for the root directory is in memory, but nothing else along the path is in memory. Also assume that all directories fit in one disk block.
- 读根目录
- 读$/usr$的 i-节点；
- 读$/usr$的目录；
- 读$/usr/ast$的 i-节点；
- 读$/usr/ast$的目录；
- 读$/usr/ast/courses$的 i-节点；
- 读$/usr/ast/courses$的目录；
- 读$/usr/ast/courses/os$的 i-节点；
- 读$/usr/ast/courses/os$的目录；
- 读$/usr/ast/courses/os/handout.t$的 i-节点。
- 总共 10次磁盘读操作

---
## 第6章随堂测验

---
### 一. 单选题（共10 题，50.0分）
- 1.设文件索引节点中有6个地址项，其中4个地址项为直接地址索引，1个地址项是一级间接地址索引，1个地址项是二级间接地址索引，每个地址项大小为4字节，若磁盘索引块和磁盘数据块大小均为256字节，则可表示的单个文件的最大长度是(　　)K字节。
  - 1041
  - $每个索引块最大索引数=256/4=64$
  - 4个直接索引：$4*256=1KB$
  - 1个一级间接地址索引：$64*256=16KB$
  - 1个二级间接地址索引：$64*64*256=1024KB$
  - $故单个文件的最大长度=1+16+1024=1041KB$   
- 2.`UNIX`操作系统中，文件的索引结构存放在`i_node节点`中。
- 3.设置当前工作目录的主要目的是`加快文件的检索速度`
- 4.文件系统最基本的目标是按名存取，它主要是通过`目录管理`功能实现的。
- 5.使用绝对路径名访问文件是从`根目录`开始按目录结构访问某个文件。
- 6.为了允许不同用户的文件使用相同的文件名，通常文件系统中采用`多级目录`
- 7.`流式文件`属于逻辑结构的文件
- 8.在树型目录结构中，文件被打开后，对文件的访问通常采用`用户文件描述符`。
- 9.目录文件所存放的信息是`该目录中所有子目录文件和数据文件的目录`
- 10.位示图方法可用于`磁盘空间的管理`
---
### 二. 判断题（共10 题，50.0分）
1. 在采用树型目录结构的文件系统中，各用户的文件名可以相同
2. `Linux`能够支持多种文件系统得益于虚拟文件系统的实现。
3. 文件系统不仅包括文件及其属性的说明，还包括对文件进行操纵与管理的软件以及向用户提供的使用文件的接口。
4. 对于一个具有三级索引表的文件，存取一个记录需要访问三次磁盘。`✖`
5. 顺序文件只能存放在顺序存储的物理介质上。`✖`
6. 文件系统最基本的功能是实现按名存取。
7. 在`UNIX`中，系统将有关文件的属性和地址信息保存在超级块中。`✖`
   - 在`Unix`操作系统中的任何资源都被当作文件来管理。从这方面来说，`Unix`操作系统中的所有的目录、硬件设备跟普通文件一样，具有共同的属性。而这些属性的话，就是保存在`inode`块中
   - 超级块中保存了全局文件信息，如硬盘已用空间、数据块可用空间、`inode`结点信息等等。做一个形象的比喻，这个超级块就好像是企业的资产负债表，一个文件系统中有哪些资源都记录在这个表中。
8. 可顺序存取的文件不一定能随机存取；但是，凡可随机存取的文件都可以顺序存取。
9. 单级目录结构不能解决文件重名问题。
10. 位示图方法可用于磁盘空间和内存页框的管理。

---
## 大作业
- [参考链接1:最后一页](https://wenku.baidu.com/view/3955cc71f46527d3240ce0bb.html)
- [参考链接2:第34页开始](https://wenku.baidu.com/view/9b1684e2c67da26925c52cc58bd63186bdeb927e.html)
- 一个文件系统中有一个$20MB$大文件和一个$20KB$小文件,当分别采用连续、链接、`i-node`(10个直接地址，一个一级间接、一个二级间接和一个三级间接)分配方案时，每块大小为4KB,每块地址用4B表示，问:
---
- (1)各文件系统管理的最大的文件是多少?
  - 连续分配
    - 连续分配时,文件大小理论上不受限制,可以大到整个磁盘文件区
  - 链接分配
    - 最大的文件可以大到整个磁盘文件区
  - `i-node`分配
    - 可管理的最大文件大小为:
      - $10 \times 4K + 4MB + 4GB + 4TB \\ = 4TB4GB4MB40K$

---
- (2)每种方案对大、小两文件各需要多少专用块来记录文件的物理地址(说明各块的用途)?
  - 连续分配
    - 对大小两个文件都只需要在文件控制块`FCB`中设置2项
      - 一是首块物理块块号
      - 另一是文件总块数
    - 不需专用块来记录文件的物理地址
  ---
  - 链接分配
    - 对大小两个文件都只需要在文件控制块`FCB`中设置2项
      - 一是首块物理块块号
      - 另一是文件总块数
    - 同时在每块存文件的物理块中设置存贮下一块块号的指针
  ---
  - `i-node`分配
    - 对$20KB$的小文件
      - 在文件控制块`FCB`的`i_addr[15]`中使用前5个表目存放文件的物理块号，不需专用物理块。
    - 对$20MB$大文件
      - `FCB`的`i_addr[15]`中使用前12个表目存放大文件前12块物理块块号（$48K$）
      - 用一级索引块一块保存大文件接着的$1K$块块号（$4M$）
      - 用二级索引存大文件以后的块号，二级索引使用第一级索引1块，第二级索引4块（$4KB × 1K × 4 = 16 M$）。
    - 总共需要6块专用物理块来存放文件物理地址

----
- (3)如需要读大文件前面第$5.5KB$的信息和后面第（$16M＋5.5KB$）的信息，则每个方案各需要多少次盘I/O操作?
  - 连续分配
    - 前面信息相对逻辑块号为
      - $5.5K／4K=1$
    - 后面信息相对逻辑块号为
      - $(16M＋5.5K)/4K=4097$。
    - 物理块号＝文件首块号＋相对逻辑块号，最后再用一次盘`I/O`操作读出该块信息
  --- 
  - 链接分配
    - 读前$5.5 KB$的信息
      - 先读1次文件头快得到信息所在块的块号
      - 再读一次第1号逻辑块得到所需信息
    - 读后$16MB + 5.5KB$的信息需要
      - 先把该信息所在块的前面块顺序读出,共需4097次盘`I/O`操作才能的大得到信息所在块的块号
      - 最后花一次`I/O`操作读出该块信息
  --- 
  - `i-node`分配
    - 读前面$5.5KB$的信息
      - 先根据其相对逻辑块号，在`FCB`的`i_addr`第二个表目中读取信息所在块块号，1次盘I／O操作即可读出该块信息。
    - 读后$16MB＋5.5KB$的信息
      - 根据其相对逻辑块号判断要读的信息是在二级索引管理范围内
      - 根据`i_addr`内容一次盘I／O操作读出第一级索引块
      - 计算信息所在块的索引块号在第一级索引块的表目号为$（4097-10-1024）／1024＝2$
      - 根据第一级索引块第3个表目内容用一次盘`I／O`操作，读出第二级索引块，就可以得到信息所在块块号
      - 最后用一次盘`I／O`读出信息所在盘块，这样总共需要3次盘`I／O`操作才能读出文件后面的信息

---
# 第7章 输入/输出管理

---
## 第7章随堂测验

---
### 单选题
- 1.(单选题,5.0分)SPOOLing技术中的P是指(　  　)。
  - 外部设备
    - 假脱机操作`SPOOLing`(`Simultancaus Periphernal Operation On-Line`)技 术

- 2.(单选题,5.0分)在UNIX中，文件系统和设备驱动程序之间的接口是(　  　)。
  - 设备开关表

- 3.(单选题,5.0分)操作系统中的SPOOLing技术实质上是将(      )转化为共享设备的技术。
  - 独占设备
  
- 4.(单选题,5.0分)设备管理的主要程序之一是设备分配程序，当进程请求在内存和外设之间传送信息时，设备分配程序分配设备的过程通常是(      )。
  - 先分配设备，再分配控制器，最后分配通道
   
- 5. (单选题,5.0分)程序员利用系统调用打开I/O设备时，通常使用的设备标识是(　　)。
  - 逻辑设备名

- 6.(单选题,5.0分)为了使多个进程能够有效地同时处理输入和输出，最好使用(　  　)结构的缓冲技术。
  - 缓冲池

- 7.(单选题,5.0分)通道是一种(　  　)。
  - I/O专用处理机

- 8.(单选题,5.0分)下列哪种磁盘调度算法只考虑了公平性? (　  　)
  - 先来先服务

- 9.(单选题,5.0分)用户程序发出磁盘I/O请求后，系统的正确处理流程是(　  　)。
  - 用户程序→系统调用处理程序→设备驱动程序→中断处理程序

- 10.(单选题,5.0分)中断向量地址是(　  　)。
  - 中断服务程序入口地址的地址

---
### 判断题
- 1.(判断题,5.0分)移臂调度的目标是使磁盘旋转周数最少。
  - ✖
  - 旋转调度的目标是使磁盘旋转周数最少
  - 移臂调度的目标是减少移动臂的寻道时间

- 2.(判断题,5.0分)缓冲技术是借用外部存储器的一部分作为缓冲池。
  - ✖
  - 在内存中开辟的缓冲而非外部存储器

- 3.(判断题,5.0分)大多数低速设备都属于共享设备。 
  - ✖
  - 大多数低速设备都属于独占设备

- 4.(判断题,5.0分)DMA一旦被启动就能独立于CPU运行，这样可使CPU和DMA并行操作。
  - ✖
  - 启动前必须有处理器设置响应的参数,接管总线,处理器相当于在休息
  - 真正并行工作的是通道而非`DMA`

- 5.(判断题,5.0分)设备驱动程序具有通用性，同类设备即使型号不同也使用同一驱动程序。
  - ✖
  - 设备驱动程序和设备是对应的,只能说有可能可以使用同一驱动程序(不一定兼容)

- 6.(判断题,5.0分)通道一旦被启动就能独立于CPU运行，这样可使CPU和通道并行操作。
  - ✔

- 7.(判断题,5.0分)Unix系统中的设备被看作文件进行管理，称为设备文件。
  - ✔

- 8.(判断题,5.0分)位示图法既可用于内存的页框管理，也可用于磁盘空间的管理。
  - ✔

- 9.(判断题,5.0分)常用的缓冲技术可缓解慢速设备与快速CPU之间的矛盾。
  - ✔

- 10.(判断题,5.0分)UNIX系统中设备分为字符设备和块设备。
  - ✔

---
## 第7章作业

---
- 1.为何要引入缓冲技术
  - 为了缓和CPU与I/O设备之间速度不匹配的矛盾；
  - 减少对CPU的中断频率；
  - 提高CPU与I/O设备之间的并行性。
----
- 2.SPOOLing的含义是什么？简述其工作原理。
  - 含义
    - 将一台独占的物理I/O设备虚拟为多台逻辑设备，从而允许多个用户共享一台物理I/O设备。
  - 工作原理
    - 作业执行前，先通过输入程序将输入数据预先输入存放到输入井中，称为预输入。
    - 作业执行过程中，当需要使用输入数据时从输入井中获取;当需要输出数据时，先把输出数据输出到输出井中待作业执行结束后，再由输出程序在CPU空闲时将输出井中的数据通过输出缓冲区输出到输出设备上。
---
- 3.计算机的设备种类繁多，请问操作系统是通过什么程序实现对具体设备的控制和通信的，这类程序应该具有什么功能？
  - 操作系统是通过什么程序实现对具体设备的控制和通信的
    - 设备驱动程序
  - 这类程序应该具有什么功能
    - 将接收到的抽象要求转换为具体要求。
    - 检查I/O请求的合法性，了解I/O设备的状态，传递有关参数，设置设备的工作方式。
    - 发出I/O命令，启动分配到的I/O设备，完成指定I/O操作。
    - 及时响应由控制器或通道发来的中断请求，并根据其中断类型调用相应的中断处理程序进行处理。
    - 对于设置有通道的计算机系统，驱动程序还应能够根据用户的I/O请求，自动地构成通道程序。
---
- 4.请简述通道方式与DMA方式进行I/O传输的异同点。
  - 区别
    - 在驱动方式上
      - DMA方式直接存储器存取方式的基本思想是在I/O设备和内存之间开辟直接的数据交换通路，彻底"解放"CPU；
      - 通道方式可以进一步减少CPU的干预，即把对一个数据块的读（或写）为单位的干预，减少为对一组数据块的读（或写）及有关的控制和管理为单位的干预。
    - 在适用场景上
      - DMA方式不需要CPU干预介入的控制器来控制内存与外设之间的数据交流的场合
      - 通道方式适用于以字节为单位的干预，同时实现CPU、通道和I/O设备三者并行操作的场合
    - 在处理方法上
      - DMA方式获取总线的3种方式分别为:暂停方式、周期窃取方式和共享方式。
      - 通道是一种通过执行通道程序管理I/O操作的控制器,它使主机与1/0操作之间达到更高的并行程度。按照所采取的传送方式,可将通道分为字节多路通道、选择通道和数组多路通道3种。
  - 相同点：
    - 通道方式和DMA方式均为外围设备和内存之间的输入/输出控制方式。
  ---
  - 正确答案
    - DMA方式与通道方式都可以实现外围设别与主机之间的数据传输,都以内存为中心,实现设备和内存的直接数据交换
    - 区别
      - DMA方式中,数据传输方向,内存始址,数据块长度都由CPU控制;通道方式中,这些都由通道控制


---
- 5.请简述独占设备分配的步骤。
  - 分配设备
    - 系统根据I/O请求中的物理设备名查找系统设备表SDT,从中找出该设备的DCT。若DCT中设备的状态为“空闲”，并满足安全性要求，则将该“空闲”设备分配给请求进程，然后转分配控制器;否则将进程PCB插入设备的等待队列。
  - 分配控制器
    - 在DCT中查找与该设备连接的COCT,检查控制器是否空闲，若是“空闲”，则将控制器分配给请求进程，然后转分配通道;否则请求进程PCB进入该控制器的等待队列。
  - 分配通道
    - 在COCT中查找与该控制器连接的CHCT,检查通道是否空闲，若是“空若闲”，则将通道分配给该请求进程，然后启动I/O设备进行数据传送;否则该进程PCB进入该通道的等待数列。

---
## 二. 计算题（共2题，29分）
- 6.假定某活动头磁盘有200个磁道，编号为0~199，
  - 磁头已经完成对125号磁道的访问，并向磁道号增大方向移动
  - 则对于下列请求序列：
    - 86、147、91、177、94、150、102、175、130。
  - 求在下列调度策略下磁头的移动顺序及其移动量(以磁道数计)。
---
- (1)FCFS
  - 磁头移动顺序
    - 125, 86, 147, 91, 177, 94, 150, 102, 175, 130
  - 磁头移动量 
    - $= (125-86)+(147-86)+(147-91)+(177-91)+(177-94)+(150-94)+(150-102)+(175-102)+(175-130) \\ =547$

---
- (2)SSTF
  - 磁头移动顺序
    - 125, 130, 147, 150, 175, 177, 102, 94, 91, 86
  - 磁头移动量 
    - $= (130-125)+(147-130)+(150-147)+(175-150)+(177-175)+(177-102)+(102-94)+(94-91)+(91-86)\\=143$

---
- (3)SCAN
  - 磁头移动顺序
    - 125, 130, 147, 150, 175, 177, 102, 94, 91, 86
  - 磁头移动量 
    - $= (130-125)+(147-130)+(150-147)+(175-150)+(177-175)+(177-102)+(102-94)+(94-91)+(91-86)\\=143$

---
- (4)CSCAN
  - 磁头移动顺序
    - 125, 130, 147, 150, 175, 177, 86, 91, 94, 102
  - 磁头移动量 
    - $= (130-125)+(147-130)+(150-147)+(175-150)+(177-175)+(177-86)+(91-86)+(94-91)+(102-94)\\=159$

---
- 7.(计算题) 设某单面磁盘旋转速度为每分钟6000转。
  - 每个磁道有100个扇区
  - 相邻磁道间的平均移动时间为1ms。
- 若在某时刻，磁头位于100号磁道处，并沿着磁道号增大的方向服务
  - 磁道号请求队列为60、90、50、120、150
  - 对请求队列中的每个磁道需读取1个随机分布的扇区，则在下列情况下读完这5个扇区总共需要多少时间？
    - 三种算法各有什么优缺点。要求给出计算过程和解释说明。
---
- 1.FCFS(先来先服务)；
  - 磁头总移动量
    - $=(100-60)+(90-60)+(90-50)+(120-50)+(150-120)\\=170$
  - 平均寻道长度为$170/5=34$
  - 时间
    - $磁道号周转时间=170*1ms=170ms$
    - 单面磁盘旋转速度为$6000 r/min = 100 r/s = 1r/10ms$
    - $总的移到磁道时间 = 170 + 10 \times 5 = 220ms$
    - $由于转速为6000r/m，则平均旋转延迟为 \\ 60/(6000*2)=5ms, \\ 总的旋转延迟时间为 \\ 5*5ms=25ms$
    > 平均旋转延迟为0.5r花的时间
    - $由于转速为6000r/m，则读取一个磁道上一个扇区的平均读取时间为 \\ 10ms/100=0.1ms，\\ 总的读取扇区的时间 \\ =0.1ms*5=0.5ms$
    - $故读取上述磁道上所有扇区所花的总时间 \\ =220+25+0.5 \\ =245.5ms$
  - 优点
    - 公平，处理简单，每个进程的请求都会得到处理。
  - 缺点
    - 未对寻道进行优化，致使平均寻道时间可能较长

---
- 2.SCAN(扫描)；
  - 磁头总移动量
    - $(120-100)+(150-120)+(150-90)+(90-60)+(60-50)\\=150$
  - 平均寻道长度为$150/5=30$
  - 时间
    - $磁道号周转时间=150*1ms=150ms$
    - 单面磁盘旋转速度为$6000 r/min = 100 r/s = 1r/10ms$
    - $总的移到磁道时间 = 150 + 10 \times 5 = 200ms$
    - $由于转速为6000r/m，则平均旋转延迟为 \\ 60/(6000*2)=5ms, \\ 总的旋转延迟时间为 \\ 5*5ms=25ms$
    - $由于转速为6000r/m，则读取一个磁道上一个扇区的平均读取时间为 \\ 10ms/100=0.1ms，\\ 总的读取扇区的时间 \\ =0.1ms*5=0.5ms$
    - $故读取上述磁道上所有扇区所花的总时间 \\ =200+25+0.5 \\ =225.5ms$
  - 优点
    - 避免了饥饿现象
  - 缺点
    - 优待了中间磁道的请求（因为被服务者无方向需求），有“磁臂粘着”现象。

---
- 3.C-SCAN(循环扫描)。
  - 磁头总移动量
    - $(120-100)+(150-120)+(150-50)+(60-50)+(90-60)\\=190$
  - 平均寻道长度为$190/5=38$
  - 时间
    - $磁道号周转时间=190*1ms=190ms$
    - 单面磁盘旋转速度为$6000 r/min = 100 r/s = 1r/10ms$
    - $总的移到磁道时间 = 190 + 10 \times 5 = 240ms$
    - $由于转速为6000r/m，则平均旋转延迟为 \\ 60/(6000*2)=5ms, \\ 总的旋转延迟时间为 \\ 5*5ms=25ms$
    - $由于转速为6000r/m，则读取一个磁道上一个扇区的平均读取时间为 \\ 10ms/100=0.1ms，\\ 总的读取扇区的时间 \\ =0.1ms*5=0.5ms$
    - $故读取上述磁道上所有扇区所花的总时间 \\ =240+25+0.5 \\ =265.5ms$
  - 优点
    - 等待时间较均衡
  - 缺点
    - 有“磁臂粘着”现象

---
# 第8-9章随堂测验
## 一.单选题
-  1.(单选题,5.0分)文件的保密是指防止文件被(　   　)。
   - 窃取

- 2.(单选题,5.0分)下面叙述中，(　  　)不是一个安全计算机系统应该具有的特征。
  - 保护性

- 3.(单选题,5.0分)通常所说的“存储保护”的基本含义是(     )。
  - 防止程序间相互越界访问

- 4.(单选题,5.0分)与文件保护无关的操作是(     )。
  - 访问前执行open操作，访问后执行close操作
  - 有关的操作是
    - 口令机制
    - 数据加密技术
    - 访问控制表

- 5.(单选题,5.0分)对于一个文件的访问，常由(      )共同限制。
  - 用户访问权限和文件属性

## 二. 判断题（共10 题，50.0分）
- 1.(判断题,5.0分)MapReduce是Google提出的一个软件架构，用于大规模数据集的并行运算。
  - 对

- 2.(判断题,5.0分)美国国防部的安全标准“橙皮书”将安全保护分成D、C、B、A四等，每个等级又包含一个或多个级别，安全级按D、C1、C2、B1、B2、B3、A1、A1以上级这8个级别渐次增强。
  - 对

- 3.(判断题,5.0分)嵌入式操作系统具有可裁剪性。
  - 对
- 4.(判断题,5.0分)TinyOS是开源的操作系统，专为嵌入式无线传感器网络设计。
  - 对

- 5.(判断题,5.0分)VxWorks是一种大型分布式操作系统。
  - 错

- 6.(判断题,5.0分)零时间备份是指每天零点时利用系统比较空闲时实现数据备份。
  - 错
  - 制作系统的原始备份
  - 系统开始使用前，为每一个文件和程序制作备份

- 7.(判断题,5.0分)Android(安卓)是一种基于Linux的自由及开放源代码的操作系统，主要支持手机。
  - 对

- 8.(判断题,5.0分)计算机病毒和细菌都具有寄生性、传染性、潜伏性和破坏性。
  - 错
  - 细菌并没有这多么特性,其具有传染性,不直接破坏文件

- 9.(判断题,5.0分)权能表是指给每个客体都赋予一张可能访问的主体表以及每个客体允许进行的操作。
  - ✖


- 10.(判断题,5.0分)Bell-Lapadula安全模型是一种“向下读（Read-Down），向上写（Write-Up）”的机制，保证信息不会从高保密级别流向低保密级别，但这会严重影响系统的可用性。
  - 对

## 三. 简答题（共2 题，25.0分）
- 1.(简答题,12.5分)病毒与细菌有什么危害？两者有何区别？
  - 我的答案：
    - 病毒
      - 病毒是插入在其他可执行程序中的代码序列；
      - 病毒代码将自身拷贝到一个或多个程序中；
      - 病毒不能独自运行，需要宿主程序来激活
      - 是具有破坏性的代码
    - 细菌
      - 细菌不会明显损坏任何文件，但是会复制自身；
      - 占有处理器的负载量，内存空间，磁盘空间
      - 排斥用户获取那些资源
    - 两者的区别
      - 病毒无法独立运行，需要宿主程序激活，是具有破坏性的代码
      - 细菌不明显损坏任何文件，不断复制自身，占用系统资源
  ---
  - 参考答案
    - 病毒具有寄生性,传染性,潜伏性和破坏性,病毒会造成部分或整个系统的破坏甚至瘫痪
    - 细菌虽然不会明显破坏任何文件,但由于不断复制自身,不断占有系统资源,造成系统资源耗尽,系统也无法继续工作;
    - 病毒对系统造成直接的破坏,而细菌虽然没有造成直接的破坏,但是通过占有系统资源阻碍系统的推进


---
- 2.(简答题,12.5分)什么是自主访问控制？什么是强制访问控制？哪一种安全保护性更高？
  - 我的答案：
    - 自主访问控制：
      - 有访问许可的主体能够直接或间接地向其他主体转让访问权
    - 强制访问控制：
      - 是“强加”给主体的，即系统强制主体服从访问控制政策
    - 强制控制保护性更高，因其系统中有监测机构，不允许拥有者修改权限
  --- 
  - 参考答案
    - 自主访问控制：
      - 有访问许可的主体能够直接或间接地向其他主体转让访问权
    - 强制访问控制：
      - 是“强加”给主体的，即系统强制主体服从访问控制政策
      - 主要特征是对所有主题及其所控制的课题(进程,文件,段,设备等)实施强制访问控制
    - 强制控制保护性更高


---
# 讨论

---
## 内存和外存有啥关系？
- 计算机存储器按用途可分为主存储器和辅助存储器
  - 主存储器又称内存储器,简称`内存`;内存指的就是主板上的存储部件，是CPU直接与之沟通，并用其存储数据的部件，**存放当前正在使用的（即执行中）的数据和程序**，它的物理实质就是一组或多组具备数据输入输出和数据存储功能的集成电路，内存**只用于暂时存放程序和数据**，一旦**关闭电源或发生断电，其中的程序和数据就会丢失**。
  - 辅助存储器又称外存储器,简称`外存`;外存**通常是磁性介质或光盘**，像硬盘，软盘，磁带，CD等，能**长期保存信息**，并且**不依赖于电来保存信息**，但是由机械部件带动，**速度与CPU相比就显得慢的多**