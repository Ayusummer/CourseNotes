# 随堂练习

---

## 2021-9-6

1. 汇编语言的优点不包括（ C ）

   - A. 直接有效地控制硬件
   - B. 生成的代码序列短小
   - C. 编程容易
   - D. 运行速度快

2. 8086处理器有20条地址线．可寻址访问的内存空间为（ B ）

   - A. 1K
   - B. 1M
   - C. 640K
   - D. 64K

   > $2^{20} B = 2^{10} KB = 1 MB$

3. 由 8086 处理器组成的 PC 机的数据线是？（ A ）

   - A. 8 条双向线
   - B. 8 条单向线
   - C. 16 条双向线
   - D. 16 条单向线

   > 1 条总线可以给出 2 个不同的符号(0 和 1), 8086 的数据线为 16 位

---

# 作业

---

## 数据表示 1

1. (单选题) 在机器数（  C ）中，对真值0的表示是唯一的。

   - A 原码
   - B 反码
   - C 补码
   - D 以上都不对

   > 原码反码中 0 都有 +0 与 -0 两种表示
   >
   > 补码中 +0 与 -0 的补码相同(均为全0), 多余的一个仅含最高位1的补码用于表示 $-2^n$
   >
   >> 例如 8位2进制码中 10000000 为 -128 的补码
   >>
   >
2. (单选题) 设计算机字长 8位，设x = -5, [x]补 为 ( A ) (单选）

- A FBH
- B FDH
- C FAH
- D 05H

> $[-5]_补 = ([-5]_原)_{求反} + 1 = (10000101)_{求反} + 1 = 11111010 + 1 = 11111011 = FBH$

3. (单选题) 十进制数-75用二进制数10110101表示，其表示方式是（   B   ）。

- A 原码
- B 补码
- C 反码
- D ASCII码

> $(-75)_原 = 1100 1011$
>
> $(-75)_反 = 1011 0100$
>
> $(-75)_补 = 1011 0101$

4. (单选题) 二进制数10101转换成十进制数是（   C   ）。

- A 25
- B 23
- C 21
- D 22

> $(10101)_2 = 2^0 + 2^2 + 2^4 = 21$

5. (单选题) 十进制负数-38的八位二进制补码是（    C  ）。

- A 01011011
- B 10100110
- C 11011010
- D 00100110

> $-38 = - (32 + 4 + 2) = (1010 0110)_原 = (1101 1001)_反 = (1101 1010)_补$

6. (单选题) 有一个八位二进制数补码是11111101，其相应的十进制数是 （ `A` ）。

- A -3
- B -2
- C 509
- D 253

> $(1111 1101)_补 = (1111 1100)_反 = (1000 0011)_原 = -(2^0 + 2^1) = -3$

7. (单选题) 某计算机字长8位，机器数 11111111 对应的十进制真值不可能是（ D ）。（单选）

- A  -1
- B 127
- C 0
- D -128

> 机器数是有符号的, 带符号的8位二进制数能表示的真值范围为 -127 ~ + 127

8. (单选题) 主存储器是计算机系统的记忆设备，它主要用来（   C  ）。

- A 存放数据
- B 存放程序
- C 存放数据和程序
- D 存放微程序

9. (单选题) 关于补码机器数的描述中错误的是（ D ） （ 单选）

- A 数的符号用0和1表示
- B 数值“0”的表示唯一
- C 加法和减法按模进行运算
- D 不可能出现一个数的补码与其原码相同

> 正数的原码和补码相同

10. (单选题) 与十进制数56等值的二进制数是（ `A` ）

- A 111000
- B 111001
- C 101111
- D 110110

> $56 = 32 + 16 + 8 = [0011 1000]_2$

---

## 寻址方式&数据传送 1

一. 单选题（共8题，49.6分）

1. (单选题)   有数据定义语句 `BUF DW 0ABH，1，10 DUP(3 DUP(1，0)，2)` 汇编后，为变量 `BUF` 分配的存储单元字节数是（ `C` ）

- A 48
- B 60H
- C 90H
- D 120

> `BUF` 是字类型(`DW`)变量,   `0ABH, 1` 2 个字; `10 DUP(3 DUP(1, 0), 2)` 70 个字, 总共 72 字, 占 144 字节
>
> 60 H = 96,  90 H = 144

2. (单选题)

```assembly
BUF1 DB 3 DUP(0, 2 DUP(1, 2), 3) 
COUNT EQU $ - BUF1 
```

符号 `COUNT` 等价的值是( `B` )

- A 6
- B 18
- C 16
- D 8

> `3 DUP(0, 2 DUP(1, 2), 3) = 3 DUP(0, 1, 2, 1, 2, 3)` 18 个字节
>
> `COUNT EQU $ - BUF1` 相当于求 `BUF1` 有多少字节

3. (单选题)  假设 `VAR` 为变量，指令 `MOV BX, OFFSET VAR` 的源操作数寻址方式是（ `A` ）

- A 立即寻址
- B 直接寻址
- C 间接录址
- D 存储器寻址

> `OFFSET VAR` 取出 `VAR` 的偏移地址立即数, 所以这里应该是立即寻址

4. (单选题)  下面两个传送指令语句中源操作数寻址方式是( `D` )

```assembly
VAR1 DW 32H 
VAR2 EQU 32H 
...
MOV AX, VAR1 
MOV BX, VAR2 
```

- A 都是立即数寻址
- B 都是直接寻址
- C 前一条指令是立即数寻址，后一条指令是直接寻址
- D 前一条指令是直接寻址，后一条指令是立即数寻址

> `VAR1` 是字变量, `MOV AX, VAR1` 是直接寻址
>
> `VAR2` 等价于 `32H`, 相当于一个立即数, `MOV BX, VAR2` 是立即寻址
>
> `EQU` 符号常量伪指令不会给符号分配存储单元, 要与变量定义伪指令相区别
>
> ![image-20211004163629154](http://cdn.ayusummer233.top/img/202110041636432.png)

5. (单选题) 指令 `mov [bx+8], ax` 的目的操作数采用（ `A`  ）寻址方式。

- A 寄存器相对
- B 存储器间接
- C 寄存器
- D 立即数

> 题干问目的操作数 `[bx+8]` 的寻址方式, 是寄存器相对寻址
>
> ![image-20211004164029308](http://cdn.ayusummer233.top/img/202110041640486.png)
>
> ![image-20211004164135263](http://cdn.ayusummer233.top/img/202110041641437.png)

6. (单选题)  指令 `mov ax, 2010`  的源操作数采用( `B` )寻址方式。

- A 直接
- B 立即数
- C 寄存器
- D 寄存器间接

> 2010 立即寻址
>
> ![image-20211004164637189](http://cdn.ayusummer233.top/img/202110041646352.png)

7. (单选题)  设物理地址 `(21001H)=20H,(21002H)=30H，(21003H)=40H`。如从地址 `21002H` 中取出一个字的内容是（ `D` ）

- A 2030 H
- B 3040 H
- C 3020 H
- D 4030 H

> 高高低低, 4030 H

8. (单选题)  源操作数采用存储器的直接寻址的指令是( `C` )（ `var`是一个变量）

- A `mov var, ax`
- B `mov cx,1234`
- C `mov bx, var+2`
- D `mov dx,offset var`

> ![image-20211004165209748](http://cdn.ayusummer233.top/img/202110041652934.png)
>
> ax 是寄存器寻址, 1234 是立即寻址, offset var 取出偏移地址也是立即寻址

二. 判断题（共8题，50.4分）
9. (判断题)  寄存器间接寻址方式，操作数是在某一寄存器中。`×`

> 寄存器间接寻址属于存储器寻址

10. (判断题)  立即数寻址只会出现在源操作数中。`√`

> ![image-20211004165630340](http://cdn.ayusummer233.top/img/202110041656509.png)
>
> 立即数无法作目的操作数因其不可变

11. (判断题) 指令 `lea ax,[bx+di+50]` 可以将 `BX＋DI＋50` 的结果传送给 `AX` 。 `√`
12. (判断题)  指令 `mov [si],[di]` 是错误的，因为8086系统不存在这种传送组合。 `√`

> ![image-20211004170259529](http://cdn.ayusummer233.top/img/202110041702651.png)
>
> MOV指令不支持两个存储器操作数

13. (判断题) 有符号数前面进行符号扩展，位数加长一位、数值增加一倍。`×`

> 有符号数符号位扩展不会改变数值大小, 高位扩展符号位

14. (判断题)  语句 `mov [bx], 250` 没有MASM语法错误。 `×`

> 两操作数类型不明确, 指令两端都可以自适应类型

15. (判断题)  汇编程序使用的保留字，例如寄存器名称等，是不能用作用户定义的标识符的。`√`
16. (判断题)  指令 `MOV AX,0` 使AX结果为0，所以标志 `ZF＝1`。`×`

---

## 表达式计算1

1. (简答题) 写出实现下列计算的指令序列。（假定X、Y、Z、W、R都为有符号字变量）

   $Z = 2 * (W - X) / (5 * Y)$

![image-20211009202515305](http://cdn.ayusummer233.top/img/202110092025495.png)

```assembly
.model small
.stack
; Z = 2 * (W - X) / (5 * Y) = 2 * (11-1) / (5*2) = 2
.data
    X DW 0001H  ; X = 1
    Y DW 0002H  ; Y = 2
    Z DW ?
    W DW 000BH  ; W = 11
    R DW ?      ; R 在算式里没出现,就写了个 0
.code
START:  MOV AX, @DATA
        MOV DS, AX  ; 设置数据段段地址

        ; W 存入 AX, 用于后面 - X 
        MOV AX, W
        ; W - X
        SUB AX, X
        
        ; 2 * (W - X) 算数左移 1 位就是 × 2
        SAL AX, 1

        ; Y 存入 BX, 用于后面 * 5
        MOV BX, Y
        ; 5 * Y = 4 * Y + Y
        MOV CL, 2
        SAL BX, CL
        ADD BX, Y


        ; 2 * (W - X) / (5 * Y)  即 AX / BX 要先将 AX 扩展到 DX,AX 再做除法, 商在 AX 里, 余数在 DX 里
        CWD
        IDIV BX

        ; Z = 2 * (W - X) / (5 * Y)
        MOV Z, AX

        MOV AX, 4C00H   ; 为 DOS 功能调用设置功能号和入口参数(4C: 带返回码(AL)结束  00:程序终止(同INT 20H))
        INT 21H     ;DOS 功能调用, 返回 DOS 操作系统
    END START       ; 汇编结束
```

---

## 汇编指令客观题 2

一. 单选题（共35题，100分）
1. (单选题) 转移指令JMP NEAR PTR PROCA的转移范围是（   ）
  - A 8000H～7FFFH
  - B 7FFFH～0FFFH
  - C 80H～7FH
  - D 0FH～7FH

> 



2. (单选题) 循环控制指令LoopNZ/LoopNE控制循环继续执行的条件是（  ）
  - A CX≠0且ZF=1
  - B CX≠0且ZF=0
  - C CX≠0或ZF=1
  - D CX≠0或ZF=0

> 

3. (单选题) 完成对CL寄存器的内容乘以4的正确操作是（    ）
A	ROL CL，1
ROL CL，1

B
MUL 4

C
SHL CL，1
SHL CL，1

D
MOV CL，2
SHL CL，CL

4. (单选题) 下面程序段完成测试DA-BYTE字节单元中数是否为负数，若是则将全1送DH中，否则全0送DH中，那么程序段中括号内应填的语句是（   ）
MOV CH,0

TEST DA-BYTE,80H

      （                       ）

MOV CH, 0FFH

ZERO:  MOV DH, CH

A
JNZ ZERO

B
JS ZERO

C
JZ ZERO

D
JC ZERO

5. (单选题) MOV AL，79
ADD AL，0B1H
上面指令执行后，设置的标志位 CF和OF的值是（ ）
A
CF=0，OF=0

B
CF=1，OF=1

C
CF=0，OF=1

D
CF=1，OF=0

6. (单选题) call指令执行后，堆栈的栈顶内容为（   ）
A
子程序的入口地址

B
call指令的下一条指令

C
call指令所在地址

D
call指令的下一条指令的地址

7. (单选题) 无论BH中原有的数是奇数或偶数，若要使BH中的数一定为奇数，应执行的指令是（ ）
A
ADD BH，01H

B
OR BH，01H

C
XOR BH，01H

D
TEST BH，01H

8. (单选题) 执行“and al,80h”指令后，可以肯定的执行结果是AL寄存器的( )。
A
低7位均为0

B
最高位为0

C
最高位为1

D
低7位均为1

9. (单选题) 已知again是一个标号，则指令”jmp again”中，again不包含(   )
A
byte或者dword类型

B
near或者far类型

C
逻辑地址

D
段内或者段间类型

10. (单选题) 指令“INC BYTE PTR [SI]”的操作数来自（ ）。
A
寄存器

B
立即数

C
外设端口

D
存储器

11. (单选题) 如果AX＝100、DX＝200时，执行“CMP AX, DX”指令，接着(   )条件转移指令会发生控制转移。
A
JA

B
JZ

C
JO

D
JB

12. (单选题) 将AX中有符号数除以2的正确指令是（ ）
A
SHR AX，1

B
SAR AX，1

C
ROR AX，1

D
RCR AX，1

13. (单选题) DA1 EQU WORD PTR DA2
DA2 DB OABH，OCDH
    ┇
SHL DA1，1
SHR DA2，1
上述两条指令执行后，DA2中两字节单元内容分别是(    )
A
0ABH，0CDH

B
2BH，9BH

C
4DH，57H

D
56H，9BH

14. (单选题) 指令（ ）实现对AX当中D15和D0位求反，其他位不变的功能。
A
and ax,7ffeh

B
xor ax,8001h

C
or ax,8001h

D
not ax

15. (单选题) 设AL=0AH，下列指令执行后能使AL=05H的是（ ）
A
NOT AL

B
AND AL，0FH

C
XOR AL，0FH

D
OR AL，0FH

16. (单选题) 下列指令执行后既能使AX=0同时又使CF=0,OF=0的是（ ）
A
XOR AX，AX

B
AND AX，AX

C
OR AX，AX

D
TEST AX，0

17. (单选题) 检查2个无符号数的关系，若要实现AL≥BL时分支去LOP1处，那么在“CMP AL，BL”指令后应跟的分支指令是(   )
A
JNC LOP1

B
JA LOP1

C
JC LOP1

D
JGE LOP1

18. (单选题) JCXZ指令发生转移的条件是(   )
A
CX≠0

B
CX＝0

C
ZF＝0

D
ZF＝1

19. (单选题) 使用LOOP指令控制计数循环，循环次数应赋予的寄存器是（  ）
A
AX

B
BX

C
CX

D
DX

20. (单选题) 已知AX，BX中均为带符号数，当进行字相除时，下面指令或指令序列正确的是( )
A
DIV BX

B
CWD
IDIV BX

C
XOR DX，DX
DIV BX

D
CBW
IDIV BX

21. (单选题) DA1 DW 2A05H
DA2 DB 0FAH
┇
MOV AL，BYTE PTR DA1
SUB DA2，AL
上述指令执行后，DA2中的内容是（ ）
A
0DAH

B
0FAH

C
0F5H

D
0D0H

22. (单选题) 若CX＝0，则语句“AGAIN: LOOP AGAIN”将会重复执行（  ）次。
A
 2的15次方

B
0

C
1

D
2的16次方

23. (单选题) 下面程序片段条件转移语句发生跳转的条件是AL＝（   ）
cmp al,0fbh

jnl next

A
80h

B
0ffh

C
8fh

D
0f0h

24. (单选题) AND，OR，XOR，NOT为四条逻辑运算指令，下面的解释正确的是( )
A
指令XOR AX，AX执行后，AX内容不变，但设置了标志位.

B
指令OR DX，1000H执行后，将DX最高位置1，其余各位置0

C
指令AND AX，OFH执行后，分离出AL低四位

D
NOT AX，执行后，将AX清0

25. (单选题) 将CX寄存器低4位清零的正确指令是（ ）
A
AND CX，0F0H

B
AND CX，0FFF0H

C
AND CX，1110H

D
MOV CX，0

26. (单选题) 在一段顺序结构的程序中，不应该出现的指令是（   ）
A
div

B
add

C
mul

D
jz

27. (单选题) 设（SP）=0028H，执行段内返回指令RET 8后，SP的内容是(  )
A
0036H

B
0038H

C
0032H

D
0020H

28. (单选题) 已知（AX）= 0FF60H，CF = 1。
                 MOV   DX, 96
                 XOR   DH, 0FFH
                 SBB   AX, DX
    上述程序段执行后：（AX）=________，CF =________。
    A
    0FFFFH    0

B
0    0

C
0FFFFH    1

D
0     1

29. (单选题) 若AX= - 15要得到AX=15应执行的指令是( )
A
NEG AX

B
NOT AX

C
INC AX

D
DEC AX

30. (单选题) 下列指令执行后既能使AX=0同时又使CF=0,OF=0的是（ ）
A
XOR AX，AX

B
AND AX，AX

C
OR AX，AX

D
TEST AX，0

31. (单选题) MASM中，实现段间转移的转移类型属性是（    ）
A
SHORT

B
NEAR

C
FAR

D
PTR

32. (单选题) 使用CMP指令比较两个有符号数之后，程序希望“大于”时发生转移，则应该使用的条件转移指令是（    ）
A
JA

B
JG

C
JC

D
JB

33. (单选题) 能将CF标志位移入AL最低位的指令是：( )。
A
rcr al, 1

B
ror al, 1

C
rol al, 1

D
rcl al, 1

34. (单选题) 下列指令执行后影响CF值的是（ ）
A
DEC

B
XCHG

C
LEA

D
SHL

35. (单选题) 执行指令“push ax”后、接着执行指令“pop dx”，其功能与（ ）相同。
A
mov ax, dx

B
mov dx, ax

C
xchg ax, dx

D
xchg dx, ax

---

## 分支程序设计 2

试编程实现：从键盘输入一个字符，若是数字，放入 `DIGITAL` 单元，若是英文字母，放入 `ENGLISH` 单元，其它字符，则放入 `OTHER` 单元。

分解题意:

- 从键盘输入一个字符:  `AH = 01H` 输入字符以 ASCII 码的形式存入 `AL` 

  ![image-20211021140956845](http://cdn.ayusummer233.top/img/202110211410241.png)	

- 若是数字，放入 `DIGITAL` 单元，若是英文字母，放入 `ENGLISH` 单元，其它字符，则放入 `OTHER` 单元。

  - 数据段定义 3 个包含一个数据的字节变量

    -  `DIGITAL`   `ENGLISH`  `OTHER` 
    - 字节变量: ASCII 码是一个字节
    - 一个数据: 题设中键盘上只输入一个字符

    ```assembly
    DIGITAL DB ?
    ENGLISH DB ?
    OTHER DB ?
    ```

  - 输入的字符以 ASCII 码的形式传入 `AL`, 数字(0~9)的 ASCII 码为 `30H ~ 39H`, 英文字母为 `大写字母: 41H ~ 5AH`, `小写字母: 61H ~ 7AH` 

    分支可以从 ASCII 码大小入手进行切分, 首先明确的是跳转到的分支总共有三个, 分别对应三类字符的存放, 然后就是判断何时进行分支跳转, 从上述 ASCII 码区别来看, 可以在 `30H 39H 41H 5AH 61H 7AH` 6 处利用 `CMP` 进行判断然后跳转相应分支

- ![task312](http://cdn.ayusummer233.top/img/202110211500493.png)

- ```assembly
  ; 分支程序设计 2
  ; 试编程实现：从键盘输入一个字符，若是数字，放入DIGITAL单元，
  ;            若是英文字母，放入 ENGLISH 单元，其它字符，则放入 OTHER 单元。
  .MODEL SMALL
  .STACK
  .DATA
      DIGITAL DB ?
      ENGLISH DB ?
      OTHER DB ?
  .CODE
  START:  MOV AX, @DATA
          MOV DS, AX
  
          MOV CX, 3       ; 为了方便调试所以一次性完成三次判断
  
  ONE:    MOV AH, 1
          INT 21H         ; 输入一个字符以 ASCII 码形式送入 AL
  
          CMP AL, 30H
          JB S_OTHER      ; AL BELOW 30H 说明其为其他字符
          CMP AL, 3AH
          JB S_DIGITAL    ; 30H <= AL BELOW 3AH 则其为数字
          CMP AL, 41H
          JB S_OTHER      ; 3AH <= AL < 41H 则其为其他字符
          CMP AL, 5BH
          JB S_ENGLISH    ; AL ∈ [41H, 5AH] 为大写字母
          CMP AL, 61H
          JB S_OTHER      ; AL ∈ [5BH, 60H] 为其他字符
          CMP AL, 7BH     
          JB S_ENGLISH    ; AL ∈ [61H, 7AH] 为小写字母
          JMP S_OTHER     ; 除此之外都算其他字符
  
  S_DIGITAL:  MOV DIGITAL, AL
              JMP NEXT    ; 三段分支是独立的, 所以要无条件跳转到 NEXT
  S_ENGLISH:  MOV ENGLISH, AL
              JMP NEXT
  S_OTHER:    MOV OTHER, AL
  
  NEXT:   LOOP ONE
          MOV AX, 4C00H
          INT 21H
  
      END START
  ```

---

## 子程序设计 1

某年级参加英语 4 级考试的有 250 名学生，试编写一程序完成 `60-69`，`70-79`，`80-89`，`90-100` 四个分数段的统计工作，要求用子程序完成对应分数段的人数统计工作。 

随机生成 250 个 [0, 100] 的数据当做学生成绩(虽然现实中的成绩分布不可能是随机的就是了)

```python
score_lst = [90, 75, 26, 3, 8, 60, 86, 24, 93, 34, 60, 82, 16, 45, 74, 43, 88, 93, 56, 83, 12, 68, 31, 1, 49, 94, 19, 99, 32, 37, 12, 98, 17, 42, 43, 66, 47, 81, 6, 100, 99, 49, 75, 79, 14, 60, 38, 76, 0, 59, 51, 5, 96, 21, 47, 34, 45, 63, 59, 84, 45, 75, 11, 82, 2, 97, 43, 3, 18, 80, 24, 87, 17, 75, 43, 73, 42, 26, 96, 8, 51, 42, 20, 67, 3, 47, 67, 7, 99, 92, 93, 3, 51, 74, 22, 14, 100, 14, 10, 64, 80, 67, 23, 93, 85, 26, 82, 99, 54, 10, 20, 26, 83, 68, 26, 20, 2, 67, 53, 86, 28, 7, 88, 21, 73, 25, 36, 93, 38, 49, 27, 48, 19, 67, 63, 76, 88, 1, 26, 0, 101, 1, 39, 1, 94, 0, 83, 89, 27, 43, 88, 2, 28, 10, 20, 17, 80, 30, 9, 53, 60, 14, 48, 44, 26, 86, 88, 10, 27, 33, 51, 0, 97, 11, 46, 32, 10, 78, 68, 69, 73, 67, 101, 13, 87, 71, 13, 39, 84, 13, 54, 26, 9, 13, 5, 25, 76, 2, 9, 17, 21, 98, 12, 45, 43, 52, 79, 46, 27, 25, 4, 89, 3, 58, 92, 70, 53, 40, 53, 68, 15, 31, 93, 56, 92, 66, 99, 93, 26, 59, 85, 38, 58, 80, 11, 84, 58, 89, 78, 25, 57, 8, 25, 50, 78, 45, 18, 22, 33, 50]
```

数据段中定义一个 字节变量 SCORE 存放 250 个成绩数据, 定义 5 个字节变量存放 5 个成绩段的人数(初值为 0, 子程序中进行判断对相应变量 + 1)

> 需要注意的是[定义较长数据的方法]([MASM - error A2042: statement too complex | obaby@mars (h4ck.org.cn)](https://h4ck.org.cn/2011/09/masm-error-a2042-statement-too-complex/#:~:text=MASM – error A2042%3A statement too,complex. 在定义比较长的数据的时候会因为数据超过行限制而出现statement too complex或者line to long的错误提示，可以使用下面的代码：.))

```assembly
    ; 在定义比较长的数据的时候会因为数据超过行限制而出现statement too complex
    ; 或者line to long的错误提示，可以这样定义:
    SCORE DB 90, 75, 26, 3, 8, 60, 86, 24, 93, 34, 60, 82
          DB 16, 45, 74, 43, 88, 93, 56, 83, 12, 68, 31, 1, 49, 94
          DB 19, 99, 32, 37, 12, 98, 17, 42, 43, 66, 47, 81, 6, 100
          DB 99, 49, 75, 79, 14, 60, 38, 76, 0, 59, 51, 5, 96, 21, 47
          DB 34, 45, 63, 59, 84, 45, 75, 11, 82, 2, 97, 43, 3, 18, 80
          DB 24, 87, 17, 75, 43, 73, 42, 26, 96, 8, 51, 42, 20, 67, 3
          DB 47, 67, 7, 99, 92, 93, 3, 51, 74, 22, 14, 100, 14, 10, 64
          DB 80, 67, 23, 93, 85, 26, 82, 99, 54, 10, 20, 26, 83, 68
          DB 26, 20, 2, 67, 53, 86, 28, 7, 88, 21, 73, 25, 36, 93, 38
          DB 49, 27, 48, 19, 67, 63, 76, 88, 1, 26, 0, 101, 1, 39, 1
          DB 94, 0, 83, 89, 27, 43, 88, 2, 28, 10, 20, 17, 80, 30, 9, 53
          DB 60, 14, 48, 44, 26, 86, 88, 10, 27, 33, 51, 0, 97, 11, 46, 32
          DB 10, 78, 68, 69, 73, 67, 101, 13, 87, 71, 13, 39, 84, 13, 54, 26
          DB 9, 13, 5, 25, 76, 2, 9, 17, 21, 98, 12, 45, 43, 52, 79, 46, 27
          DB 25, 4, 89, 3, 58, 92, 70, 53, 40, 53, 68, 15, 31, 93, 56
          DB 92, 66, 99, 93, 26, 59, 85, 38, 58, 80, 11, 84, 58, 89
          DB 78, 25, 57, 8, 25, 50, 78, 45, 18, 22, 33, 50
    SCORE_FAIL DB 0     ; 虽然题设没让求, 但是姑且还是求一下, 反正这部分数值总归要判断
    SCORE_60 DB 0
    SCORE_70 DB 0
    SCORE_80 DB 0
    SCORE_90 DB 0
```

四个分数段统计的子程序设计与上一题判断 ASCII 类似, 以 `60, 70, 80, 90` 为断点分成 5 部分进行 `CMP` 判断并跳转到对应分支内对相应变量进行 `INC` 操作即可

![task331_jupyter](http://cdn.ayusummer233.top/img/202110211816378.png)

![task331](http://cdn.ayusummer233.top/img/202110211816943.png)

![task331_comment](http://cdn.ayusummer233.top/img/202110211816438.png)

---

## 查询式输入输出程序设计1

1. (简答题)  试编制程序：以查询方式输入100 个字节数据存入内存 `INBUF` 区。查询输入接口电路参见上课的课件 PPT。

![image-20211101211950832](http://cdn.ayusummer233.top/img/202111012119079.png)

查询输入一个字节

```assembly
STATUS:	MOV DX, 102H 	; DX指向状态端口
        IN AL, DX 		; 读状态端口
        TEST AL, 80H 	; 测试标志位 D7
        JZ STATUS 		; D7＝0，未就绪，继续查询
        MOV DX, 100H 	; D7＝1，就绪，DX 指向数据端口
        IN AL, DX 		; 从数据端口输入数据(存入 AL)
```

输入 100 个字节存入 `INBUF` 区, 所以要定义一个含 100 个数据的字节变量 `INBUF`

```assembly
INBUF DB 100 DUP(?)
```

定义一个指针 `BX` 指向 `INBUF` 的首地址, 每执行一次 `STATUS` 程序段查询输入一个字节便送 `AL` 给 `[BX]` 然后 `INC BX` , 将此程序循环执行 100 次即可完成题设

```assembly
.MODEL SMALL
.STACK
.DATA
	INBUF DB 100 DUP(?)
.CODE
START:  MOV AX, @DATA
        MOV DS, AX

        LEA BX, INBUF
        MOV CX, 100    	; 100 个数据, 循环 100 次完成输入

STATUS:	MOV DX, 102H 	; DX指向状态端口
        IN AL, DX 		; 读状态端口
        TEST AL, 80H 	; 测试标志位 D7
        JZ STATUS 		; D7＝0，未就绪，继续查询
        MOV DX, 100H 	; D7＝1，就绪，DX 指向数据端口
        IN AL, DX 		; 从数据端口输入数据(存入 AL)
        
        MOV	[BX], AL	; 送录入数据给 INBUF 下一个接收空间
        INC BX			; BX+1 获得 INBUF 下一次录入数据的空间地址

DONE:   LOOP STATUS		
        MOV AX, 4C00H
        INT 21H
    END START
```

---

2. (简答题)  试编制程序：以查询方式输出内存 `OUTBUF` 区以 `‘-1’` 结束的一串字节数据。查询输出接口电路参见上课的课件 PPT。

![image-20211101214421209](http://cdn.ayusummer233.top/img/202111012144415.png)

查询输出一个字节:

```assembly
STATUS: MOV DX, 102H 	; DX 指向状态端口
        IN AL, DX 		; 读状态端口
        TEST AL, 80H 	; 测试标志位 D7
        JNZ STATUS 		; D7＝1，忙，继续查询
        MOV DX, 100H 	; D7＝0，不忙，DX 指向数据端口
        MOV AL, CHAR	
        OUT DX, AL		; 向数据端口输出数据 CHAR
```

要查询方式输出内存 `OUTBUF` 区以 `‘-1’` 结束的一串字节数据, 则需要先定义一个 `BX` 指向 `OUTBUF` 的首地址, 每次取 `[BX]` 与 `-1` 比较, 是则结束程序, 否则调用

```assembly
.MODEL SMALL
.STACK
.DATA
	OUTBUF DB 12H, 34H, 56H, -1;
.CODE
START:  MOV AX, @DATA
        MOV DS, AX

        LEA BX, OUTBUF
        
TAKE:   CMP [BX], -1
        JZ DONE

STATUS: MOV DX, 102H 	; DX 指向状态端口
        IN AL, DX 		; 读状态端口
        TEST AL, 80H 	; 测试标志位 D7
        JNZ STATUS 		; D7＝1，忙，继续查询
        MOV DX, 100H 	; D7＝0，不忙，DX 指向数据端口
        MOV AL, [BX]	
        OUT DX, AL		; 向数据端口输出数据 [BX]
        
        INC BX			; BX+1 获得 INBUF 下一次输出数据的空间地址
        JMP TAKE

DONE:   MOV AX, 4C00H
        INT 21H
    END START
```

---

## I/O接口&中断技术-客观题

1. (单选题)  `8259A` 工作在完全嵌套方式下，如果 `IR2、IR3、IR6、IR7` 上同时有中断请求信号，则 8259 首先响应的中断源是（ `A` ）

  - A  `IR2`
  - B  `IR3`
  - C  `IR6`
  - D  `IR7`

  > 

2. (单选题) 系统中有两片中断控制器8259A，为实现15级中断排队，则主片、从片的嵌套应分别设置为（ `C` ）

  - A  主片全嵌套、从片全嵌套  
  - B  主片特殊全嵌套、从片特殊全嵌套
  - C  主片特殊全嵌套、从片全嵌套 
  - D  主片全嵌套、从片特殊全嵌套

  > 

3. (单选题) 响应 `NMI` 请求的必要条件是（ `C` ）

  - A  `IF=1 `
  - B  无 INTR 请求 ( `×` ) 
  - C  一条指令结束
  - D  IF=0

  > 通过 NMI 向CPU提出的中断请求， CPU无法禁止，在当前指令执行结束 予以响应

4. (单选题)  8259A 的中断屏蔽寄存器为（ `B` ）

  - A  IRR 
  - B  IMR
  - C  ISR
  - D  PR

  > 

5. (单选题) 下列 `8086CPU` 的 `I/O 指令` 中，格式正确的是（ `C` ）

  - A  `IN AL,3FFH`
  - B  `IN BL,35H`
  - C  `OUT DX,AL`
  - D  `OUT CX,AX`

  > ```assembly
  > IN AL/AX, i8/DX 	; 将端口(i8/DX)数据(字节/字)传送给CPU内的AL/AX
  > ; 例: 
  > IN AL, 0A0H
  > 
  > OUT i8/DX, AL/AX 	; 将CPU内AL/AX (字节/字)的内容传送给端口(i8/DX)
  > ; 例:
  > OUT 60H, AX
  > ```
  >
  > - A: 输入数据溢出了
  > - B: 接收寄存器只能是 AL 或 AX
  > - D: 寄存器和端口反了

6. (单选题) 8086 CPU 采用向量方式处理8级I/O接口中断，若接口的中断类型号依次为 `40H～47H`，在内存的 `0000H:0108H` 单元依次存放 `20H、30H、40H、50H`共4 个字节，问该 I/O 接口对应的中断类型号和中断服务程序入口地址是（ `A` ）

  - A  42H 和 5040H:3020H
  - B  42H 和 3020H:5040H
  - C  46H 和 5040H:3020H
  - D  46H 和 3020H:5040H

  > 

7. (单选题) 在 `CPU` 与外设的 `I/O` 传输控制方式中，占用 `CPU` 时间最多的数据传输方式是（ `B` ）

  - A  无条件传输方式
  - B  查询传输方式
  - C  中断方式 
  - D  直接存储器存取方式

  > - `无条件传输方式`: 对一些简单的、随时都“准备好”的外设（如开关、发光二极管等）， `CPU` 随时可以进行数据的输入输出。这种传送称为无条件传送。也称直接控制方式、立即传送方式、同步传送方式
  > - `查询传输方式`: 
  >   - `CPU` 需要先查询外设的工作状态，在外设可以交换信息的情况下（就绪）进行数据输入或输出。也称为条件传送或异步传送。
  >   - 对多个外设的情况，`CPU` 按一定顺序依次查询（轮询）。先查询的外设将优先进行数据交换
  > - `中断方式`: 
  >   - `CPU` 在执行程序时，突然有某个内部或外部的事件请求 `CPU` 处理， `CPU` 暂停当前正在执行的程序， 转去执行处理该事件的服务程序， 服务结束后，又返回原来程序被中断的地方继续执行。这个过程 称为中断
  >   - 赋予系统中的外设某种主动申请、配合CPU工作的 "权利"
  >     - 外设把数据准备好时，主动向CPU发出一个请求信号。 
  >     - `CPU` 不必反复查询该设备的状态，而是正常地处理系统任务。 
  >     - `CPU` 与外设处于某种“并行工作”的状态，从而提高 `CPU` 的工作效率
  >   - 外设就绪后主动向 `CPU` 发出中断请求，`CPU` 暂停执行当前程序转向中断服务程序， 通过执行 `IN/OUT` 指令完成数据交换
  > - `直接存储器存取方式`:
  >   - `DMA`，直接存储器存取，不经过 `CPU` 和程序，通过专门的硬件装置 -- `DMA 控制器(DMAC)`来进行控制，并借用系统总线作为信息的传送通道。
  >   - 除事先设置 `DMAC` 需要 `CPU` 介入外，一旦启动 `DMA` 传送，则完全由硬件自动 操作完成，整个传送过程不再需要 `CPU` 的干预
  >   - 在微机系统中，`DMAC` 有双重身份：
  >     - 在 `CPU` 掌管总线时，它是总线上的被控设备（`I/O设备`），`CPU` 可以对它进行读和写操作
  >     - 在 `DMAC` 接管总线时，它是总线上的主控设备，通过系统总线来控制存储器和外设直接进行数据交换

8. (单选题) 某 `8086 CPU` 构成的系统中，用 16 根地址线对 `I/O 端口` 寻址，则该系统的 `I/O 端口` 地址空间为（ `C` ）

  - A  8 KB
  - B  16 KB
  - C  64 KB
  - D  1 MB

  > 8086 仅使用低 16 位地址线寻址 `I/O端口`：`0000H ~ FFFFH`（64 KB）
  >
  > $2^{16} B = 2^6 KB = 64 KB$

9. (单选题)  多片 8259A 级联使用时，下列选项正确的是（ `C` ）

  - A  主片的 `CAS2～CAS0` 是输入信号，从片的 `CAS2～CAS0` 是输出信号
  - B  主片的 `SP*` 端接 “0”，从片的 `SP*` 端接 “1”
  - C  两级 8259A 级联最多可以将中断扩展到 64 级
  - D  主片的 INT 接到从片的 IR 上

  > 

10. (单选题) 不属于程序控制传输方式的输入输出方式为（ `D` ）

    - A  同步传输方式
    - B  异步查询方式
    - C  中断方式 
    - D  直接存储器存取方式

    > 

11. (单选题) 下列关于中断传输与查询传输的说法，错误的是（ `D` ）

    - A  对外设来讲，查询传输和中断传输没有区别
    - B  查询传输是用软件查询状态线，而中断传输是用硬件查询状态线
    - C  中断传输是从查询传输演变而来的，解决了查询传输中占用过多CPU时间查询条件的缺陷
    - D  中断传输与条件传输一样，都大大提高了 CPU 的工作效率

    > 

12. (单选题) 8086 CPU 的可屏蔽中断请求信号 `INTR `的有效信号是（ `A` ）

    - A  高电平
    - B  低电平
    - C  上升沿  
    - D  下降沿

    > 

13. (单选题) 8259A 作为中断控制器时，在外部可屏蔽中断的服务程序中，要用 EOI 命令是因为（ `D` ）

    - A  要用它来清除中断请求，以防止重复进入中断程序
    - B  要用它屏蔽已被服务了的中断源，使其不再发出请求
    - C  要用它来重新配置 `8259A 中断控制器`
    - D  要用它来清除中断服务寄存器中相应的位，以允许同级或低级中断能被服务

    > 

14. (单选题)  微处理器通过数据总线向慢速外设输出数据时，接口部分必须含有的部件是（ `C` ）

    - A  反向器 
    - B  放大器
    - C  锁存器
    - D  `TTL/EIA` 电平转换器

    > 

15. (单选题) 在无条件输出接口中，可用作输出锁存器的芯片是（ `B` ）

    - A  `74LS244`
    - B  `74LS273` 
    - C  `74LS138` 
    - D  `Intel 8288`

    > 

16. (单选题)  8086 CPU 的输入指令（IN）中，目的操作数（ `B` ）

    - A  8 位数据寄存器
    - B  只能是 AL 或 AX
    - C  16 位数据寄存器   
    - D  任意寄存器

    > 输入指令 `IN`
    >
    > ```assembly
    > IN AL/AX, i8/DX		; 将端口(i8/DX)数据(字节/字)传送给 CPU 内的 AL/AX
    > ```

17. (单选题) 若 8086工作在最小模式，则执行指令 `OUT  DX，AL` 时，其引脚信号 `M/IO#` 和 `WR#` 信号的电平是（ `A` ）

    - A  `M/IO#` 为低电平，`WR#` 为低电平
    - B  `M/IO#` 为低电平，`WR#` 为高电平
    - C  `M/IO#` 为高电平，`WR#` 为低电平 ( `×` )
    - D  `M/IO#` 为高电平，`WR#` 为高电平

    > 

18. (单选题)  下列关于 NMI 中断的说法，错误的是（ `B` ）

    - A  `NMI` 中断请求不受中断允许触发器 `IF` 的控制
    - B  `﻿NMI` 中断请求采用电平触发方式
    - C  `NMI` 的中断类型号为 2 号，但是 02 不是由外部设备送给 CPU 的，因此，对于 `NMI` 中断，在时序上不存在 `INTA#` 周期
    - D  `NMI` 中断请求采用上升沿触发方式 ( `√` )

    > 上升沿触发

19. (单选题) `8259A` 工作在优先级自动循环方式下，为 `IR3` 服务完毕后，中断优先级最高的是（ `C` ）

    - A  `IR2`
    - B  `IR3`
    - C  `IR4`
    - D  `IR0`

    > 

20. (单选题) 3 片 `8259A` 级联，构成主从式中断控制系统，可以把中断扩展到（ `C` ）

    - A  16 级 
    - B  20 级
    - C  22 级 
    - D  24 级

    > 

---

## 可编程接口 `8255A` & `8253A` 客观题

1. (单选题) 若 8253 的计数器 0 工作在方式 3（方波发生器），CLK 端输入的脉冲频率是 100 kHz，当计数器初值为 25 时，OUT 端输出的方波正半周期和负半周期的宽度分别为（ `A` ）

  - A `130us,120us`
  - B `250us,250us`
  - C `120us,130us`
  - D `125us,125us`

  > 

2. (单选题) 某 8255A 设置 A、B、C 三个端口全为方式 0 输入方式，此方式控制字为（ `D` ）

  - A `98H`
  - B `99H `
  - C `9AH`
  - D `9BH`

  > <img src="http://cdn.ayusummer233.top/img/202112042022399.png" alt="image-20211204202247268" style="zoom:70%;" />
  >
  > 结合上图可知控制字应为: `10011011 B = 9B H`

3. (单选题) 要使 8253 达到最大计数次数，初始化时写入的初值应为（ `A` ）

  - A 0 
  - B 9999  
  - C 10000 
  - D 65536

  > 

4. (单选题) 在某控制系统中，8255A 的端口地址为 `80H-83H` ,其中 C 口控制 8 个继电器，C 口某引脚输出 1 时与之相连的继电器闭合，输出 0 时继电器断开，现要求使与 `PC2` 相连的继电器闭合，而其它继电器的状态不变，应选择的程序段是（ `A` ）
  - A 
    ```assembly
    IN AL,82H
    OR AL,00000100B
    OUT 82H, AL 
    ```
    
  - B

    ```assembly
    IN AL,82H
    AND AL,11111011B
    OUT 83H,AL
    ```

  - C

    ```assembly
    MOV AL,00000100B
    OUT 83H,AL 
    ```

  - D

    ```assembly
    MOV AL,00000101B
    OUT 82H, AL 
    ```

> 若要实现题设则需要使 `PC2=1`, PC 其他位不变, 使用 AND 指令的话没有办法将 `PC2` 通过 AND 0/1 实现 `PC2=1`, 要使用 `PC2 OR 1`, 其他位通过 OR 0 来保持不变也即 `OR AL, 00000100B`

5. (单选题) 8253 的通道 1 为 BCD 计数，若 `CLK1` 的输入频率 1 MHz，`OUT1` 的输出作为中断请求信号，则中断请求信号的最大间隔时间为（ `A` ）

  - A 10 ms
  - B 65.535 ms
  - C 65.536 ms 
  - D 100 s

  > 

6. (单选题)  8253 的各种工作方式中，在初始化编程时，写入控制字后，将使 OUT 端（ `B` ）

  - A 变为高电平
  - B 变为相应的高电平或低电平
  - C 变为低电平  
  - D 保持原状态不变，直到计数结束

  > 

7. (单选题) `8255A` 的控制信号线为 `CS#=0、RD#=0、A1=0、A0=0` 时，完成的工作是（ `A` ）

  - A  将 `A 端口` 数据读入
  - B  将 `B 端口` 数据读入
  - C  将 `C 端口` 数据读入
  - D  将 `控制端口` 状态读入

  > <img src="http://cdn.ayusummer233.top/img/202112042023766.png" alt="image-20211204202344663" style="zoom:50%;" />

8. (单选题) 下列关于 `8255A` 的说法，正确的是（ `B` ）

  - A `8255A` 是一种通用可编程串行接口芯片

    - × `8255A` 是可编程**并行**接口芯片

  - B `8255A` 既可以用中断方式，也可以用条件查询方式与 CPU 进行数据传输

    - 方式 0: 基本输入输出方式 `->` 适用于无条件传送和**查询方式**
    - 方式 1: 选通输入输出方式 `->`  适用于**查询和中断方式**
    - 方式2: 双向选通传送方式 `->` 适用于双向传送数据的外设 `->` 适用于**查询和中断方式**

  - C `8255A` 为条件传输方式提供了专门的“状态”和“联络”信号引脚

    - × <img src="http://cdn.ayusummer233.top/img/202112042022505.png" alt="image-20211204202214369" style="zoom:50%;" />

  - D `8255A` 的每个端口都有单独的端口控制器

    × <img src="http://cdn.ayusummer233.top/img/202112042024046.png" alt="image-20211204202425889" style="zoom:50%;" />

9. (单选题) 若对 `8255A` 的控制端口写入`1 00 0 1 0 0 1 B(89H)`，则 `8255A` 的 3 个 I/O 端口就会工作在用户设定的功能上，即（ `A` ）
  - A   A 口、B 口输出，C 口输入
  - B  A 口输入，B 口、C 口输出
  - C  A 口输出，B 口、C 口输入  
  - D  A 口、B 口输入，C 口输出

> <img src="http://cdn.ayusummer233.top/img/202112042022399.png" alt="image-20211204202247268" style="zoom:70%;" />

10. (单选题) 下列关于 8253 的说法中，错误的是（ `D` ）

    - A  8253内部有3个独立的16位定时/计数器通道
    - B  8253的定时/计数器通道可按照二进制和十进制两种方式计数
    - C  8253的计数范围是1～65536
    - D  8253的每个通道有4种工作方式

    > - 8253/8254有6种工作方式，由方式控制字确定

11. (单选题) 在 8253 的下列工作方式中，能输出连续的周期性波形的工作方式是( `C` )

    - A 方式0(计数结束中断方式)  
    - B 方式1(可编程的单稳负脉冲)
    - C 方式2(速率发生器)    
    - D 方式5(硬件触发选通方式)

    > 

12. (单选题) 8253 的通道 0 与通道 1 级连，均为 BCD 计数，若 `CLK0` 的输入频率 1 MHz，`OUT0` 的输出和 `CLK1` 相连，若 `OUT1` 作为中断请求信号，则中断请求信号的间隔时间最长为（ `C` ）

    - A 10 ms
    - B 1 s
    - C 100 s
    - D 4295 s

    > 两个计数器初值均为 0, $10^4 × 10^4 × 10^{-6} = 100s$

13. (单选题) 若要在 8253 计数过程中读取当前计数值，则应该（ `C` ）

    - A 直接用IN指令读取相应通道的计数值
    - B 先发锁存命令，再读取计数值，最后发停止锁存命令
    - C 先发锁存命令，再读取计数值，计数通道会自动解除锁存状态
    - D 先发停止计数命令，再读计数值

    > 

14. (单选题) 若对 8253 写入控制字的值为 `96H`，则说明设定 8253 的（ `C` ）

    - A 计数器 1 工作在方式 2 且将只写低 8 位计数初值
    - B 计数器 1 工作在方式 2 且将只写高 8 位计数初值
    - C 计数器 2 工作在方式 3 且将只写低 8 位计数初值  
    - D 计数器 2 工作在方式 3 且将一次写入 16 位计数初值

    > 

15. (单选题) 下列关于 8253 的说法，正确的是（ `D` ）

    - A 8253 是一种通用可编程串行接口芯片

      × 8253/8254是Intel公司生产的通用可编程定时/计数器

    - B 在通道工作过程中，CPU 不能通过对端口的读操作，读取计数器的数据

      × 输出锁存器: 用于写入锁存命令时， 锁定当前计数值，供 CPU 读取。

    - C 8253 是采用加 1 方式的计数器

      × 减 1 计数

    - D 8253 包含 3 个功能完全相同的计数通道，每个通道有 6 种工作方式

      <img src="http://cdn.ayusummer233.top/img/202112042045430.png" alt="image-20211204204551283" style="zoom:50%;" />

    > 

16. (单选题) 若 `8253A` 的计数器 0 工作在方式 3（方波发生器），CLK 端输入的脉冲频率是 100 kHz，当计数器初值为 25 时，OUT 端输出方波高电平和低电平的宽度分别是（ `C` ）

    - A 125 μs, 125 μs 
    - B 120 μs, 130 μs 
    - C 130 μs, 120 μs
    - D 250 μs, 250 μs

    > 

17. (单选题) `8253A` 工作在十进制计数状态时，最大计数次数为（ `C` ）

    - A 1000
    - B 9999  
    - C 10000 
    - D 65536

    > <img src="http://cdn.ayusummer233.top/img/202112042047198.png" alt="image-20211204204735068" style="zoom:50%;" />

18. (单选题) 对于 8255A 的方式 2，下列说法正确的是（ `A                                                                                                                                                                                                                                                                                                                            ` ）

    - A  仅有 A 口可以在方式 2 下工作，实现分时的输入/输出操作
    - B  A 口、B 口和 C 口都可以工作在方式 2 下
    - C  只有 A 口和 B 口可以工作在方式 2 下，C 口用来提供联络信号
    - D  仅有 A 口可以在方式 2 下工作，此时 A 口可以同时实现输入和输出的双向并行通信

    > 

19. (单选题) 8255A 的 3 个端口方式 0 时可以在不同的输入/输出组合方式下工作，可能的组合方式总数有（ `D` ）

    - A 6种
    - B 4种
    - C 8种
    - D 16种

    > 端口 A, 端口 B, C 口上半, C 口下半, 都可以分别设定输入/输出, 因此总共 $2^4 = 16$

20. (单选题) 8253 能够自动循环计数的工作方式为（ `B` ）

    - A 方式 0 和方式 1
    - B 方式 2 和方式 3
    - C 方式 4 和方式 5 
    - D 方式 0 和方式 5

    > 

21. (单选题) 8253 的通道 1 为二进制计数，若 `CLK1` 的输入频率 1 MHz，`OUT1` 的输出信号作为中断请求信号，则中断请求信号的最大间隔时间为（ `C` ）

    - A 10 ms  
    - B 65.535 ms
    - C 65.536 ms 
    - D 1 s

    > $2^{16} × 10^{-6} = 0.065536 s = 65.546 ms$

22. (单选题) 在 8253 中，用于启动或停止定时计数器工作的信号是（ `B` ）

    - A  CS 
    - B  GATE
    - C  CLK
    - D  OUT

    > 

23. (单选题) 下列关于 8253 的说法中，正确的是（ `B` ）

    - A 8253 有 3 个计数通道，对应有 3 个通道控制寄存器
    - B 8253 有 3 个计数通道，但只有 1 个通道控制寄存器
    - C CPU 可以对通道控制寄存器进行随机读写操作
    - D 8253 的的计数通道是按加 1 方式计数的，并且可按十进制和二进制两种方式计数

    > 

24. (单选题) 8255A 的端口地址为 `60H-63H` 下面的指令中，能完成对 8255A 的 `PC2` 置 1 功能的是（ `A` ）

    - A

      ```assembly
      MOV AL,00000101B
      OUT 63H,AL
      ```

    - B

      ```assembly
      MOV AL,00000101B
      OUT 62H,AL 
      ```

    - C

      ```assembly
      MOV AL,00000100B
      OUT 63H,AL    
      ```

    - D

      ```assembly
      MOV AL,00000100B
      OUT 62H,AL
      ```

    > 

25. (单选题)  8255A 的 C 口置 1/清 0 控制字，应该送入 8255A 的（ `D` ）

    - A  A口 
    - B  B口 
    - C  C口 
    - D  控制口

    > 

26. (单选题) 8255A 的 A 口工作在方式 1 的输出状态时，可以通过哪个信号有效知道外设已经接收数据（ `D` ）

    - A  `READY`
    - B  `INTRA`
    - C  `OBFA#`
    - D  `ACKA#`

    > 

27. (单选题) 8255A 的 A 口工作在方式 1 的输入状态时，可以通过哪个信号知道端口是否已经准备好了输入的数据（ `B` ）
    - A  `READY`
    - B  `INTRA`
    - C  `OBFA#`
    - D  `ACKA#`

28. (单选题) `PC/XT` 中，用 8253 的通道 0 产生固定频率的时钟节拍，则通道 0 应该工作在方式（ `C` ）

    - A 1
    - B 5
    - C 3
    - D 4

    > 

29. (单选题) 若某个外设工作在无条件传输方式下，通过 8255A 与 CPU 交换数据，要求 A 口、B 口为输出，C 口为输入，则 8255A 的方式控制字应为（ `C` ）

    - A `09H`
    - B `19H`
    - C `89H`
    - D `99H`

    > <img src="http://cdn.ayusummer233.top/img/202112042022399.png" alt="image-20211204202247268" style="zoom:70%;" />
    >
    > 无条件传送方式只有方式 0 满足
    >
    > `1 00 0 1 0 0 1 B = 89 H `

30. (单选题) 8253 的下列工作方式中可以通过门控信号 GATE 重复触发的方式为（ `B` ）

    - A 方式 0
    - B 方式 1
    - C 方式 2
    - D 方式 3

    > 
